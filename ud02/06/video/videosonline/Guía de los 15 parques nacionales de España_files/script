"use strict";function _typeof(a){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(b,!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(b).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function qlfPromoStarter(a,b){(function(a,b){function c(a,b,c){var e=new Date;e.setTime(e.getTime()+1e3*(60*(60*(24*c))));var d="expires="+e.toUTCString();document.cookie=a+"="+b+";"+d+";path=/"}function d(a){for(var b,d=a+"=",e=document.cookie.split(";"),f=0;f<e.length;f++){for(b=e[f];" "===b.charAt(0);)b=b.substring(1);if(0===b.indexOf(d))return b.substring(d.length,b.length)}return""}function e(a){if(a){var b=a.split(",");return 0===b.length?void 0:b.reduce(function(a,b){var c=b.split(":"),d={};return d[c[0]]=+c[1],_objectSpread({},a,{},d)},{})}}function f(a){if(a&&"object"===_typeof(a)){var b="";return Object.keys(a).forEach(function(c,d){b+="".concat(c,":").concat(a[c]),d<Object.keys(a).length-1&&(b+=",")}),b}}function g(){var a=d(r);return a||(c(r,"c:0,e:0,l:0",30),a=d(r)),a}function h(){var a=g(),b=e(a);return!!b&&b}function i(a,b,d){var e=h();a&&e.c!==void 0&&(e.c+=1),b&&e.e!==void 0&&(e.e=b),d&&e.l!==void 0&&(e.l=d);var g=f(e);g&&c(r,g,30)}function j(a){var b=h();return!(b.c>=a)}function k(){var a=h();return!(1<=a.e)}function l(){var a=h();return!(1<=a.l)}function m(){var a=screen&&screen.orientation?screen.orientation.angle:window.orientation;return(0===a||180===a)&&414>=screen.width||(-90===a||90===a)&&896>=screen.width}function n(a){var c=a.clientId,d=a.siteId,e=a.trigger;p=e.id,q=e.eId,r="qlfpromo-"+q;var f=document.createElement("div");f.setAttribute("id","qlf-promo-loader"),f.style.height=0,document.body.appendChild(f),f.addEventListener("qlf-closed",function(){i(0,1,0)},!1),f.addEventListener("qlf-call-to-action",function(){i(0,0,1)},!1);var g=new XMLHttpRequest,h=new XMLHttpRequest,n="c=".concat(c,"&s=").concat(d),o="".concat(b,"/triggers/").concat(e.id,"?").concat(n);g.open("GET",o),g.send(),g.onload=function(){if(200<=g.status&&300>g.status){var a=JSON.parse(g.responseText),c=a.clientId,d=a.accessToken,e=a.campaignId,f=a.configuration.stopShowing,i=a.promoFormat,n=a.subDomain;if(f&&"never"!==f.when){if(f.afterBeenShowed&&!j(f.afterBeenShowed))return;if(f.afterClosingPopup&&!k())return;if(f.afterClickToCallToAction&&!l())return}var o="clientId=".concat(c,"&channelId=").concat(e,"&token=").concat(d,"&promotype=").concat(i,"&d=").concat(n);m()&&(o+="&layout=mobile");var p="".concat(b,"/promo?").concat(o);h.open("GET",p),h.send()}},h.onload=function(){if(200<=h.status&&300>h.status){var a=new DOMParser,b=a.parseFromString(h.responseText,"text/html");b.getElementsByTagName("html")[0].style.height=0,b.getElementsByTagName("body")[0].style.height=0;var c=b.querySelectorAll("script"),d=b.getElementById("qlf-promo-loader-actions")||c[c.length-1];d.parentNode.removeChild(d);var l=document.createElement("script");l.innerText=d.innerText;var e=b.getElementsByClassName("qualifio_iframe_wrapper"),g=0!==e.length,j=g?e[0].id:null,k=g?e[0].getAttribute("data-production"):null;if(f.appendChild(document.adoptNode(b.getElementsByTagName("html")[0])),f.appendChild(l),g){var m=document.createElement("script");m.innerText="(function(b,o,n,u,s){var a,t;a=b.createElement(u);a.async=1;a.src=s;t=b.getElementsByTagName(u)[0];t.parentNode.insertBefore(a,t);o[n]=o[n]||[]}) (document,window,'_qual_async','script','//s90.qualifio.com/kit/qualp.2.min.js');",f.appendChild(m),_qual_async.push(["createIframe",j,"s90.qualifio.com","90",k,"100%","400","","","","max-width:810px;margin:0 auto;"])}i(1,0,0)}}}function o(a){var b=new RegExp(a),c=window.location.href.match(b);return null!==c&&0<c.length}var p=0,q=0,r="";a&&a.t&&function(a){var b=!0,c=!1,d=void 0;try{for(var e,f=a.t[Symbol.iterator]();!(b=(e=f.next()).done);b=!0){var g=e.value,h=!1,i=!0,j=!1,k=void 0;try{for(var l,m,p=g.u[Symbol.iterator]();!(i=(l=p.next()).done);i=!0)if(m=l.value,o(m)){h=!0;break}}catch(a){j=!0,k=a}finally{try{i||null==p["return"]||p["return"]()}finally{if(j)throw k}}if(h){n({clientId:a.c,siteId:a.s,trigger:g});break}}}catch(a){c=!0,d=a}finally{try{b||null==f["return"]||f["return"]()}finally{if(c)throw d}}}(a)})(a,b)};qlfPromoStarter({}, 'https://participa.nationalgeographic.com.es/v1/loader');