/* Copyright (c) 2016 comScore, Inc.
 * All rights reserved.
 * By using this software, you are agreeing to be bound by the
 * terms of these policies: http://www.comscore.com/About_comScore/Privacy_Policy
 */
var ns_=ns_||{};!function(){var a={uid:function(){var a=1;return function(){return+new Date+"_"+a++}}(),filter:function(a,b){var c={};for(var d in b)b.hasOwnProperty(d)&&a(b[d])&&(c[d]=b[d]);return c},extend:function(a){var b,c=arguments.length;a=a||{};for(var d=1;c>d;d++)if(b=arguments[d])for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);return a},getString:function(a,b){var c=String(a);return null==a?b||"na":c},getLong:function(a,b){var c=Number(a);return null==a||isNaN(c)?b||0:c},getInteger:function(a,b){var c=Number(parseInt(a));return null==a||isNaN(c)?b||0:c},getBoolean:function(a,b){var c="true"==String(a).toLowerCase();return null==a?b||!1:c},parseBoolean:function(a,b){return b=b||!1,a?"0"==a?!1:void 0:b},isNotEmpty:function(a){return!this.isEmpty(a)},isEmpty:function(a){return void 0===a||null===a||""===a||a instanceof Array&&0===a.length},indexOf:function(a,b){var c=-1;return this.forEach(b,function(b,d){b==a&&(c=d)}),c},forEach:function(a,b,c){try{if("function"==typeof b)if(c="undefined"!=typeof c?c:null,"number"!=typeof a.length||"undefined"==typeof a[0]){var d="undefined"!=typeof a.__proto__;for(var e in a)a.hasOwnProperty(e)&&(!d||d&&"undefined"==typeof a.__proto__[e])&&"function"!=typeof a[e]&&b.call(c,a[e],e)}else for(var f=0,g=a.length;g>f;f++)b.call(c,a[f],f)}catch(h){}},regionMatches:function(a,b,c,d,e){if(0>b||0>d||b+e>a.length||d+e>c.length)return!1;for(;--e>=0;){var f=a.charAt(b++),g=c.charAt(d++);if(f!=g)return!1}return!0},size:function(a){var b=0;for(var c in a)a.hasOwnProperty(c)&&b++;return b},log:function(a,b){if("undefined"!=typeof b&&b&&"undefined"!=typeof console&&console){var c=new Date,d=c.getHours()+":"+c.getMinutes()+":"+c.getSeconds();console.log(d,a)}},isTrue:function(a){return"undefined"==typeof a?!1:"string"==typeof a?(a=a.toLowerCase(),"true"===a||"1"===a||"on"===a):!!a},toString:function(a){if("undefined"==typeof a)return"undefined";if("string"==typeof a)return a;if("[object Array]"===Object.prototype.toString.call(a))return a.join(",");if(this.size(a)>0){var b="";for(var c in a)a.hasOwnProperty(c)&&(b+=c+":"+a[c]+";");return b}return a.toString()},exists:function(a){return"undefined"!=typeof a&&null!=a},firstGreaterThan0:function(){for(var a=0,b=arguments.length;b>a;a++){var c=arguments[a];if(c>0)return c}return 0},cloneObject:function(a){if(null==a||"object"!=typeof a)return a;var b=function(){function a(){}function b(b){return"object"==typeof b?(a.prototype=b,new a):b}function c(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])}function d(){this.copiedObjects=[];var a=this;this.recursiveDeepCopy=function(b){return a.deepCopy(b)},this.depth=0}function e(a,b){var c=new d;return b&&(c.maxDepth=b),c.deepCopy(a)}function f(a){return"undefined"!=typeof window&&window&&window.Node?a instanceof Node:"undefined"!=typeof document&&a===document?!0:"number"==typeof a.nodeType&&a.attributes&&a.childNodes&&a.cloneNode}var g=[];return c.prototype={constructor:c,canCopy:function(){return!1},create:function(a){},populate:function(a,b,c){}},d.prototype={constructor:d,maxDepth:256,cacheResult:function(a,b){this.copiedObjects.push([a,b])},getCachedResult:function(a){for(var b=this.copiedObjects,c=b.length,d=0;c>d;d++)if(b[d][0]===a)return b[d][1]},deepCopy:function(a){if(null===a)return null;if("object"!=typeof a)return a;var b=this.getCachedResult(a);if(b)return b;for(var c=0;c<g.length;c++){var d=g[c];if(d.canCopy(a))return this.applyDeepCopier(d,a)}throw new Error("Unable to clone the following object "+a)},applyDeepCopier:function(a,b){var c=a.create(b);if(this.cacheResult(b,c),this.depth++,this.depth>this.maxDepth)throw new Error("Maximum recursion depth exceeded.");return a.populate(this.recursiveDeepCopy,b,c),this.depth--,c}},e.DeepCopier=c,e.deepCopiers=g,e.register=function(a){a instanceof c||(a=new c(a)),g.unshift(a)},e.register({canCopy:function(){return!0},create:function(a){return a instanceof a.constructor?b(a.constructor.prototype):{}},populate:function(a,b,c){for(var d in b)b.hasOwnProperty(d)&&(c[d]=a(b[d]));return c}}),e.register({canCopy:function(a){return a instanceof Array},create:function(a){return new a.constructor},populate:function(a,b,c){for(var d=0;d<b.length;d++)c.push(a(b[d]));return c}}),e.register({canCopy:function(a){return a instanceof Date},create:function(a){return new Date(a)}}),e.register({canCopy:function(a){return f(a)},create:function(a){return"undefined"!=typeof document&&a===document?document:a.cloneNode(!1)},populate:function(a,b,c){if("undefined"!=typeof document&&b===document)return document;if(b.childNodes&&b.childNodes.length)for(var d=0;d<b.childNodes.length;d++){var e=a(b.childNodes[d]);c.appendChild(e)}}}),{deepCopy:e}}();return b.deepCopy(a)},safeGet:function(a,b){return b=this.exists(b)?b:"",this.exists(a)?a:b},getBrowserName:function(){if(!navigator)return"";var a,b,c=navigator.userAgent||"",d=navigator.appName||"";return-1!=(b=c.indexOf("Opera"))||-1!=(b=c.indexOf("OPR/"))?d="Opera":-1!=(b=c.indexOf("Android"))?d="Android":-1!=(b=c.indexOf("Chrome"))?d="Chrome":-1!=(b=c.indexOf("Safari"))?d="Safari":-1!=(b=c.indexOf("Firefox"))?d="Firefox":-1!=(b=c.indexOf("IEMobile"))?d="Internet Explorer Mobile":"Microsoft Internet Explorer"==d||"Netscape"==d?d="Internet Explorer":(a=c.lastIndexOf(" ")+1)<(b=c.lastIndexOf("/"))?(d=c.substring(a,b),d.toLowerCase()==d.toUpperCase()&&(d=navigator.appName)):d="unknown",d},getBrowserFullVersion:function(){if(!navigator)return"";var a,b,c,d,e=navigator.userAgent||"",f=navigator.appName||"",g=navigator.appVersion?""+parseFloat(navigator.appVersion):"";return-1!=(b=e.indexOf("Opera"))?(g=e.substring(b+6),-1!=(b=e.indexOf("Version"))&&(g=e.substring(b+8))):-1!=(b=e.indexOf("OPR/"))?g=e.substring(b+4):-1!=(b=e.indexOf("Android"))?g=e.substring(b+11):-1!=(b=e.indexOf("Chrome"))?g=e.substring(b+7):-1!=(b=e.indexOf("Safari"))?(g=e.substring(b+7),-1!=(b=e.indexOf("Version"))&&(g=e.substring(b+8))):-1!=(b=e.indexOf("Firefox"))?g=e.substring(b+8):"Microsoft Internet Explorer"==f?(d=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),null!=d.exec(e)&&(g=parseFloat(RegExp.$1))):"Netscape"==f?(d=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),null!=d.exec(e)&&(g=parseFloat(RegExp.$1))):g=e.lastIndexOf(" ")+1<(b=e.lastIndexOf("/"))?e.substring(b+1):"unknown",g=g.toString(),-1!=(c=g.indexOf(";"))&&(g=g.substring(0,c)),-1!=(c=g.indexOf(" "))&&(g=g.substring(0,c)),-1!=(c=g.indexOf(")"))&&(g=g.substring(0,c)),a=parseInt(""+g,10),isNaN(a)&&(g=""+parseFloat(navigator.appVersion)),g},browserAcceptsLargeURLs:function(){return"undefined"!=typeof window?(null!==window.ActiveXObject,!0):!0},getNamespace:function(){return ns_.ns_||ns_}};!function(a){a.hasPageVisibilityAPISupport=function(){if("undefined"==typeof document)return!1;var a=!1;return"undefined"!=typeof document.hidden?a=!0:"undefined"!=typeof document.mozHidden?a=!0:"undefined"!=typeof document.msHidden?a=!0:"undefined"!=typeof document.webkitHidden&&(a=!0),function(){return a}}(),a.getPageVisibilityAPI=function(){if("undefined"==typeof document)return null;var a,b;"undefined"!=typeof document.hidden?(a="hidden",b="visibilitychange",state="visibilityState"):"undefined"!=typeof document.mozHidden?(a="mozHidden",b="mozvisibilitychange",state="mozVisibilityState"):"undefined"!=typeof document.msHidden?(a="msHidden",b="msvisibilitychange",state="msVisibilityState"):"undefined"!=typeof document.webkitHidden&&(a="webkitHidden",b="webkitvisibilitychange",state="webkitVisibilityState");var c={hidden:a,visibilityChange:b,state:state};return function(){return c}}(),a.isTabInBackground=function(){if("undefined"==typeof document)return null;var b=a.getPageVisibilityAPI();return function(){return document[b.hidden]}}()}(a),ns_.StreamSense=ns_.StreamSense||function(){function b(b,c){var d=b||"",e="undefined",f=J.comScore||J.sitestat||function(b){var c,d,f,g,h,i="comScore=",j=K.cookie,k="",l="indexOf",n="substring",o="length",p=a.browserAcceptsLargeURLs()?m.URL_LENGTH_LIMIT:m.RESTRICTED_URL_LENGTH_LIMIT,q="&ns_",r="&",s=J.encodeURIComponent||escape;if(j[l](i)+1)for(g=0,f=j.split(";"),h=f[o];h>g;g++)d=f[g][l](i),d+1&&(k=r+unescape(f[g][n](d+i[o])));b+=q+"_t="+ +new Date+q+"c="+(K.characterSet||K.defaultCharset||"")+k,b.length>p&&b.indexOf(r)>0&&(c=b.substr(0,p-8).lastIndexOf(r),b=(b.substring(0,c)+q+"cut="+s(b.substring(c+1))).substr(0,p)),self.getPlatformAPI().httpGet(b),typeof ns_p===e&&(ns_p={src:b}),ns_p.lastMeasurement=b};if(typeof c!==e){var g=[],h=J.encodeURIComponent||escape;for(var i in c)c.hasOwnProperty(i)&&g.push(h(i)+"="+h(c[i]));/[\?\&]$/.test(d)||(d+="&"),d+=g.join("&")}return f(d)}function c(b,c){for(var d,e=J.encodeURIComponent||escape,f=[],g=m.LABELS_ORDER,h=b.split("?"),i=h[0],j=h[1],k=j.split("&"),l=0,n=k.length;n>l;l++){var o=k[l].split("="),p=unescape(o[0]),q=unescape(o[1]);p&&(c[p]=q)}for(var r={},s=0,t=g.length;t>s;s++){var u=g[s];if(c.hasOwnProperty(u)){var v=c[u];"undefined"!=typeof v&&null!=v&&(r[u]=!0,f.push(e(u)+"="+e(c[u])))}}for(var w in c)if(c.hasOwnProperty(w)){if(r[w])continue;var x=c[w];"undefined"!=typeof x&&null!=x&&f.push(e(w)+"="+e(c[w]))}d=i+"?"+f.join("&"),d=d+(d.indexOf("&c8=")<0?"&c8="+e(K.title):"")+(d.indexOf("&c7=")<0?"&c7="+e(K.URL):"")+(d.indexOf("&c9=")<0?"&c9="+e(K.referrer):"");var y=a.browserAcceptsLargeURLs()?m.URL_LENGTH_LIMIT:m.RESTRICTED_URL_LENGTH_LIMIT;if(d.length>y&&d.indexOf("&")>0){var z=d.substr(0,y-8).lastIndexOf("&");d=(d.substring(0,z)+"&ns_cut="+e(d.substring(z+1))).substr(0,y)}return d}var d={UNKNOWN_VALUE:"unknown",UNKNOWN_RESOLUTION:"0x0"},e=function(){var b="cs_";return function(){var c="undefined"!=typeof localStorage?localStorage:null;a.extend(this,{get:function(a){return c&&c.getItem(b+a)},set:function(a,d){c&&c.setItem(b+a,d)},has:function(a){return c&&c.getItem(b+a)},remove:function(a){c&&c.removeItem(b+a)},clear:function(){for(var a=0;c&&a<c.length;++a){var d=c.key(a);d.substr(0,b.length)===b&&c.removeItem(d)}}})}}(),f=function(a,b){if("undefined"==typeof Image)return void("function"==typeof setTimeout?b&&setTimeout(b,0):b&&b());var c=new Image;c.onload=function(){b&&b(200),c=null},c.onerror=function(){b&&b(),c=null},c.src=a},g=function(a,b,c){"function"==typeof setTimeout?c&&setTimeout(function(){c(200)},0):c&&c(200)},h=function(){return{dir:function(){return null},append:function(a,b,c){},write:function(a,b,c){},deleteFile:function(){return!1},read:function(){return null}}}(),i=function(){return{PLATFORM:"generic",httpGet:f,httpPost:g,Storage:e,IO:h,getCrossPublisherId:function(){return null},getAppName:function(){return d.UNKNOWN_VALUE},getAppVersion:function(){return d.UNKNOWN_VALUE},getVisitorId:function(){return this.getDeviceName()+ +new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return d.UNKNOWN_VALUE},getPlatformVersion:function(){return d.UNKNOWN_VALUE},getPlatformName:function(){return"js"},getRuntimeName:function(){return d.UNKNOWN_VALUE},getRuntimeVersion:function(){return d.UNKNOWN_VALUE},getDisplayResolution:function(){return d.UNKNOWN_RESOLUTION},getApplicationResolution:function(){return d.UNKNOWN_RESOLUTION},getLanguage:function(){return d.UNKNOWN_VALUE},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:function(a,b){return setTimeout(a,b)},clearTimeout:function(a){return clearTimeout(a)},getDeviceArchitecture:function(){return d.UNKNOWN_VALUE},getConnectionType:function(){return d.UNKNOWN_VALUE},getDeviceJailBrokenFlag:function(){return d.UNKNOWN_VALUE},isConnSecure:function(){return"s"===document.location.href.charAt(4)},processMeasurementLabels:function(){}}}();a.jsonObjectToStringDictionary=function(a){var b={};for(var c in a){var d=a[c];null===d||void 0===d?b[c]=d:b[c]=a[c]+""}return b},a.getKeys=function(a,b){var c,d=[];for(c in a)b&&!b.test(c)||!a.hasOwnProperty(c)||(d[d.length]=c);return d},a.fixEventTime=function(a){if(a.ns_ts)return parseInt(a.ns_ts);var b=+new Date;return a.ns_ts=b+"",b},a.isBrowser=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},a.addNewPlaybackInterval=function(b,c,d,e){var f={};if(!(d>=c))return a.cloneObject(b);if(f.start=c,f.end=d,0==b.length)return b.push(f),a.cloneObject(b);var g;for(g=0;g<b.length;g++)if(f.start>=b[g].start&&f.end<=b[g].end)return a.cloneObject(b);var h,i=!1;for(h=0;h<b.length;h++)if(h+1===b.length&&f.start>=b[h].start||f.start>=b[h].start&&f.start<b[h+1].start){b.splice(h+1,0,f),i=!0;break}i||b.splice(0,0,f);var j=[b[0]];for(g=1;g<b.length;g++)j[j.length-1].end+e<b[g].start?j.push(b[g]):j[j.length-1].end<b[g].end&&(j[j.length-1].end=b[g].end);return a.cloneObject(j)};var j=function(){var a=["play","pause","pause-on-buffering","end","buffer","buffer-stop","keep-alive","hb","custom","load","start","skstart","adskip","cta","error","trans","drmfa","drmap","drmde","bitrt","playrt","volume","window","audio","video","subs","cdn"];return{PLAY:0,PAUSE:1,PAUSE_ON_BUFFERING:2,END:3,BUFFER:4,BUFFER_STOP:5,KEEPALIVE:6,HEARTBEAT:7,CUSTOM:8,LOAD:9,START:10,SEEK_START:11,AD_SKIP:12,CTA:13,ERROR:14,TRANSFER:15,DRM_FAILED:16,DRM_APPROVED:17,DRM_DENIED:18,BIT_RATE:19,PLAYBACK_RATE:20,VOLUME:21,WINDOW_STATE:22,AUDIO:23,VIDEO:24,SUBS:25,CDN:26,toString:function(b){return a[b]}}}(),k=function(){return{IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12}}(),l=function(){var a=["c","s","r"];return{SINGLE_CLIP:0,SEGMENTED:1,REDUCED:2,toString:function(b){return a[b]}}}(),m={STREAMSENSE_VERSION:"5.1.5.160524",MODEL_VERSION:"5.1",DEFAULT_PLAYERNAME:"js_api",DEFAULT_HEARTBEAT_INTERVAL:[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}],DEFAULT_KEEP_ALIVE_INTERVAL:12e5,DEFAULT_PAUSED_ON_BUFFERING_INTERVAL:500,C1_VALUE:"19",C10_VALUE:"js",NS_AP_C12M_VALUE:"1",NS_NC_VALUE:"1",PAGE_NAME_LABEL:"name",RESTRICTED_URL_LENGTH_LIMIT:2048,URL_LENGTH_LIMIT:4096,THROTTLING_DELAY:500,INTERVAL_MERGE_TOLERANCE:500,STANDARD_METADATA_LABELS:["ns_st_ci","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_li","ns_st_ad","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pu","c3","c4","c6"],LABELS_ORDER:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_alias","ca_ns_alias","cb_ns_alias","cc_ns_alias","cd_ns_alias","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_fif","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_cv","ns_ap_smv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","cs_partner","cs_xcid","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_st_sv","ns_st_pv","ns_st_smv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sc","ns_st_sq","ns_st_ppc","ns_st_apc","ns_st_spc","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_sl","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_ad","ns_st_li","ns_st_ci","ns_st_si","ns_st_pt","ns_st_dpt","ns_st_ipt","ns_st_et","ns_st_det","ns_st_upc","ns_st_dupc","ns_st_iupc","ns_st_upa","ns_st_dupa","ns_st_iupa","ns_st_lpc","ns_st_dlpc","ns_st_lpa","ns_st_dlpa","ns_st_pa","ns_ap_jb","ns_ap_et","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ca_cs_c12u","cb_cs_c12u","cc_cs_c12u","cd_cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_dbc","ns_st_bt","ns_st_dbt","ns_st_bp","ns_st_lt","ns_st_skc","ns_st_dskc","ns_st_ska","ns_st_dska","ns_st_skd","ns_st_skt","ns_st_dskt","ns_st_pc","ns_st_dpc","ns_st_pp","ns_st_br","ns_st_pbr","ns_st_rt","ns_st_prt","ns_st_ub","ns_st_vo","ns_st_pvo","ns_st_ws","ns_st_pws","ns_st_ki","ns_st_rp","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pl","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_sr","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_ce","ns_st_ia","ns_st_dt","ns_st_ddt","ns_st_tdt","ns_st_tm","ns_st_dtm","ns_st_ttm","ns_st_de","ns_st_pu","ns_st_ti","ns_st_cu","ns_st_fee","ns_st_at","ns_st_pat","ns_st_vt","ns_st_pvt","ns_st_tt","ns_st_ptt","ns_st_cdn","ns_st_pcdn","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","ns_ecommerce","ns_ec_sv","ns_client_id","ns_order_id","ns_ec_cur","ns_orderline_id","ns_orderlines","ns_prod_id","ns_qty","ns_prod_price","ns_prod_grp","ns_brand","ns_shop","ns_category","category","ns_c","ns_search_term","ns_search_result","ns_m_exp","ns_m_chs","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er"]},n=function(){function b(){function b(){I={},I.ns_st_pt="0",I.ns_st_bt="0",I.ns_st_bc="0",I.ns_st_pc="0",I.ns_st_sq="0",I.ns_st_cl="0",I.ns_st_pn="1",I.ns_st_tp="1",I.ns_st_skc="0",I.ns_st_et="0",I.ns_st_cn="1",I.ns_st_sc="0",I.ns_st_ska="0",I.ns_st_skd="0",I.ns_st_skt="0",I.ns_st_upc="0",I.ns_st_lpc="0",I.ns_st_upa="0",I.ns_st_lpa="0",I.ns_st_ub="0",I.ns_st_br="0",g=!1,f=!1,e=d.UNKNOWN_VALUE,h=NaN,l=0,j=0,i=NaN,n=NaN,p=0,o=0,k=0,s=NaN,q=[],r=[],t=0,u=0,v=0,w=0,x=0,y=0,z=NaN,A=0,B=!1,C=NaN,F=!1,E=0,H=0,D=0,G=0,J=0,K=0,L=0,M=0,N=0}function c(){var a,b,c=0;for(a=0;a<q.length;a++)c+=Math.abs(q[a].end-q[a].start);O.setUniquePlaybackInterval(c);var d=0;for(a=0;a<q.length;a++)b=Math.abs(q[a].end-q[a].start),b>d&&(d=b);O.setLongestPlaybackInterval(d);var e=0;for(a=0;a<r.length;a++)e+=Math.abs(r[a].end-r[a].start);O.setAssetUniquePlaybackInterval(e);var f=0;for(a=0;a<r.length;a++)b=Math.abs(r[a].end-r[a].start),b>f&&(f=b);O.setAssetLongestPlaybackInterval(f)}var e,f,g,h,i,j,k,l,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O=this,P=m.INTERVAL_MERGE_TOLERANCE;a.extend(this,{getHash:function(){return e},setHash:function(a){e=a},setPlaybackIntervalMergeTolerance:function(a){P=a},getPlaybackIntervalMergeTolerance:function(){return P},setLabels:function(b){null!=b&&a.extend(I,b)},getLabels:function(){return I},setLabel:function(a,b){var c={};c[a]=b,O.setLabels(c)},getLabel:function(a){return I[a]},getClipNumber:function(){return parseInt(O.getLabel("ns_st_cn"))},setClipNumber:function(a){O.setLabel("ns_st_cn",a+"")},getPartNumber:function(){return parseInt(O.getLabel("ns_st_pn"))},createLabels:function(b){var c=b||{};c.ns_st_dbt=O.getBufferingTime()-A+"",A=O.getBufferingTime(),c.ns_st_det=O.getElapsedTime()-o+"",o=O.getElapsedTime(),c.ns_st_dupc=O.getUniquePlaybackInterval()-t+"",t=O.getUniquePlaybackInterval(),parseInt(c.ns_st_dupc)<0&&(c.ns_st_dupc="0");var d;d=a.exists(c.ns_st_upc)?parseInt(c.ns_st_upc):O.getUniquePlaybackInterval(),c.ns_st_iupc=d-u+"",u=d,parseInt(c.ns_st_iupc)<0&&(c.ns_st_iupc="0"),c.ns_st_dupa=O.getAssetUniquePlaybackInterval()-v+"",v=O.getAssetUniquePlaybackInterval(),parseInt(c.ns_st_dupa)<0&&(c.ns_st_dupa="0");var e;e=a.exists(c.ns_st_upa)?parseInt(c.ns_st_upa):O.getAssetUniquePlaybackInterval(),c.ns_st_iupa=e-w+"",w=e,parseInt(c.ns_st_iupa)<0&&(c.ns_st_iupa="0"),c.ns_st_dlpc=O.getLongestPlaybackInterval()-x+"",x=O.getLongestPlaybackInterval(),parseInt(c.ns_st_dlpc)<0&&(c.ns_st_dlpc="0"),c.ns_st_dlpa=O.getAssetLongestPlaybackInterval()-y+"",y=O.getAssetLongestPlaybackInterval(),parseInt(c.ns_st_dlpa)<0&&(c.ns_st_dlpa="0");var f;return f=a.exists(c.ns_st_pt)?parseInt(c.ns_st_pt):O.getPlaybackTime(),c.ns_st_ipt=f-k+"",k=f,c.ns_st_dpt=O.getPlaybackTime()-j+"",j=O.getPlaybackTime(),c.ns_st_dpc=O.getPauses()-J+"",J=O.getPauses(),c.ns_st_dskc=O.getSeeks()-K+"",K=O.getSeeks(),c.ns_st_dbc=O.getBuffers()-L+"",L=O.getBuffers(),c.ns_st_dskt=O.getSeekingTime()-D+"",D=O.getSeekingTime(),c.ns_st_dska=O.getSeekingAmount()-G+"",G=O.getSeekingAmount(),a.extend(c,O.getLabels()),O.setSeekingDirection(0),g&&(c.ns_st_spc=M+"",c.ns_st_apc=N+""),g||a.parseBoolean(c.ns_st_sc)||(c.ns_st_sc="1"),c},getVideoTrack:function(){return O.getLabel("ns_st_vt")},setVideoTrack:function(a){O.setLabel("ns_st_vt",a+"")},getAudioTrack:function(){return O.getLabel("ns_st_at")},setAudioTrack:function(a){O.setLabel("ns_st_at",a+"")},getSubtitleTrack:function(){return O.getLabel("ns_st_tt")},setSubtitleTrack:function(a){O.setLabel("ns_st_tt",a+"")},getCDN:function(){return O.getLabel("ns_st_cdn")},setCDN:function(a){O.setLabel("ns_st_cdn",a+"")},getClipPlaybackIntervals:function(){return q},setClipPlaybackIntervals:function(a){q=a},getAssetPlaybackIntervals:function(){return r},getUniquePlaybackInterval:function(){return parseInt(O.getLabel("ns_st_upc"))},getAssetUniquePlaybackInterval:function(){return parseInt(O.getLabel("ns_st_upa"))},setAssetUniquePlaybackInterval:function(a){O.setLabel("ns_st_upa",a+"")},setUniquePlaybackInterval:function(a){O.setLabel("ns_st_upc",a+"")},getLongestPlaybackInterval:function(){return parseInt(O.getLabel("ns_st_lpc"))},setLongestPlaybackInterval:function(a){O.setLabel("ns_st_lpc",a+"")},getAssetLongestPlaybackInterval:function(){return parseInt(O.getLabel("ns_st_lpa"))},setAssetLongestPlaybackInterval:function(a){O.setLabel("ns_st_lpa",a+"")},incrementPauses:function(){O.setLabel("ns_st_pc",O.getPauses()+1+"")},incrementSeeks:function(){O.setLabel("ns_st_skc",O.getSeeks()+1+"")},incrementPlayCounter:function(){O.setLabel("ns_st_sq",O.getPlayCounter()+1+"")},getPlayCounter:function(){return parseInt(O.getLabel("ns_st_sq"))},getBufferingTime:function(){return parseInt(O.getLabel("ns_st_bt"))},setBufferingTime:function(a){O.setLabel("ns_st_bt",a+"")},addBufferingTime:function(a){if(!isNaN(z)){var b=O.getBufferingTime();b+=a-z,O.setBufferingTime(b),z=NaN}},setPlaybackStartPosition:function(a){s=parseInt(a)},getPlaybackStartPosition:function(){return s},addInterval:function(b){isNaN(s)||isNaN(b)||(q=a.addNewPlaybackInterval(q,s,b,P),r=a.addNewPlaybackInterval(r,s,b,P),c(),s=NaN)},getElapsedTime:function(){return parseInt(O.getLabel("ns_st_et"))},setElapsedTime:function(a){O.setLabel("ns_st_et",a+"")},addElapsedTime:function(a){if(!isNaN(n)){var b=O.getElapsedTime();b+=a-n,O.setElapsedTime(b),n=NaN}},getElapsedTimestamp:function(){return n},setElapsedTimestamp:function(a){n=a},addPlaybackTime:function(a){if(!isNaN(h)){var b=O.getPlaybackTime();b+=a-h,O.setPlaybackTime(b),h=NaN}},getPlaybackTime:function(){return parseInt(O.getLabel("ns_st_pt"))},getExpectedPlaybackPosition:function(a){return isNaN(h)||(l+=a-h),l},setPlaybackTimeOffset:function(a){l=a},getPlaybackTimeOffset:function(){return l},setPlaybackTime:function(a){O.setLabel("ns_st_pt",a+"")},getPlaybackTimestamp:function(){return h},setPlaybackTimestamp:function(a){h=a},setPreviousPlaybackTime:function(a){j=a},setPreviousPlaybackTimestamp:function(a){i=a},getBufferingTimestamp:function(){return z},setBufferingTimestamp:function(a){z=a},getPauses:function(){return parseInt(O.getLabel("ns_st_pc"))},setPauses:function(a){O.setLabel("ns_st_pc",a+"")},getSeeks:function(){return parseInt(O.getLabel("ns_st_skc"))},setSeeks:function(a){O.setLabel("ns_st_skc",a+"")},setSeeking:function(a){B=a},isSeeking:function(){return B},setCollectingSeekingTime:function(a){F=a},isCollectingSeekingTime:function(){return F},setClipStarted:function(a){f=a},isClipStarted:function(){return f},setPlaybackStarted:function(a){g=a},isPlaybackStarted:function(){return g},setSeekingTimestamp:function(a){C=a},getSeekingTimestamp:function(){return C},addSeekingTime:function(a){if(!isNaN(C)){var b=O.getSeekingTime();b+=a-C,O.setSeekingTime(b),C=NaN}},getSeekingTime:function(){return parseInt(O.getLabel("ns_st_skt"))},setSeekingTime:function(a){O.setLabel("ns_st_skt",a+"")},setSeekingTimeBeforeEnd:function(a){H=a},getSeekingTimeBeforeEnd:function(){return H},setSeekStartPosition:function(a){E=a},getSeekStartPosition:function(){return E},setSeekingAmount:function(a){O.setLabel("ns_st_ska",a+"")},getSeekingAmount:function(){return parseInt(O.getLabel("ns_st_ska"))},addSeekingAmount:function(a){var b=O.getSeekingAmount();b+=Math.abs(a-E),O.setSeekingAmount(b);var c;E==a?c=0:E>a?c=-1:a>E&&(c=1),O.setSeekingDirection(c),E=0},getSeekingDirection:function(){return parseInt(O.getLabel("ns_st_skd"))},setSeekingDirection:function(a){O.setLabel("ns_st_skd",a+"")},resetClipLifecycleLabels:function(){I.ns_st_pt="0",j=0,k=0,I.ns_st_bt="0",A=0,I.ns_st_bc="0",L=0,I.ns_st_pc="0",J=0,I.ns_st_sq="0",I.ns_st_upa="0",v=0,w=0,I.ns_st_et="0",o=0,I.ns_st_lpa="0",y=0,I.ns_st_skt="0",D=0,I.ns_st_ska="0",G=0,I.ns_st_skc="0",K=0},incrementSegmentPlaybackCounter:function(){M++},incrementClipLoadCounter:function(){O.setLabel("ns_st_sc",O.getClipLoadCounter()+1+"")},incrementAssetPlaybackCounter:function(){N++},setPreviousUniquePlaybackInterval:function(a){t=a},setPreviousEventIndependentUniquePlaybackInterval:function(a){u=a},setPreviousLongestPlaybackInterval:function(a){x=a},resetAssetPlaybackCounters:function(){r=[],O.setAssetUniquePlaybackInterval(0),v=0,w=0,O.setAssetLongestPlaybackInterval(0),y=0},setSegmentPlaybackCounter:function(a){M=a},setClipLoadCounter:function(a){O.setLabel("ns_st_sc",a+"")},setAssetPlaybackCounter:function(a){N=a},setLowestPartNumberPlayed:function(a){p=a},getSegmentPlaybackCounter:function(){return M},getClipLoadCounter:function(){return parseInt(O.getLabel("ns_st_sc"))},getAssetPlaybackCounter:function(){return N},getLowestPartNumberPlayed:function(){return p},getBuffers:function(){return parseInt(O.getLabel("ns_st_bc"))},incrementBufferCount:function(){O.setLabel("ns_st_bc",O.getBuffers()+1+"")},getPreviousBufferingTime:function(){return A}}),b()}return b.resetClip=function(a,b,c){for(var d=a.getLabels(),e={},f=0;c&&f<c.length;++f)d.hasOwnProperty(c[f])&&(e[c[f]]=d[c[f]]);b.setLabels(e),b.setPlaybackIntervalMergeTolerance(a.getPlaybackIntervalMergeTolerance())},b}(),o=function(){function b(){function b(){c=new n,f={},f.ns_st_bp="0",f.ns_st_pa="0",f.ns_st_pp="0",f.ns_st_sp="1",f.ns_st_id=+new Date+"",d=NaN,e=NaN,h={},i=0,g=!1,j=!1,k=0}var c,d,e,f,g,h,i,j,k,l=this;a.extend(this,{resetClip:function(){var a=c;c=new n,n.resetClip(a,c)},hashExists:function(a){return null!=h[a]},storeHash:function(a){h[a]={}},removeHash:function(a){delete h[a]},storeClipPlaybackCounters:function(){for(var b in h)if(h.hasOwnProperty(b)&&h[b].clipNumber===c.getClipNumber()){a.extend(h[b],{segmentPlaybackCounter:c.getSegmentPlaybackCounter(),clipLoadCounter:c.getClipLoadCounter(),assetPlaybackCounter:c.getAssetPlaybackCounter(),lowestPartNumberPlayed:c.getLowestPartNumberPlayed(),seeking:c.isSeeking(),seekingTimeBeforeEnd:c.getSeekingTimeBeforeEnd(),seekingStartPosition:c.getSeekStartPosition(),clipPlaybackIntervals:c.getClipPlaybackIntervals(),uniquePlaybackInterval:c.getUniquePlaybackInterval(),longestPlaybackInterval:c.getLongestPlaybackInterval(),videoTrack:c.getVideoTrack(),audioTrack:c.getAudioTrack(),subtitleTrack:c.getSubtitleTrack(),cdn:c.getCDN()});break}},getStoredClipRegisters:function(a){return h[a]},getClipNumber:function(a){return h[a].clipNumber},getMaxClipNumber:function(){return i},storeClipNumber:function(a,b){h[a].clipNumber=b,b>i&&(i=b)},setLabels:function(b){null!=b&&a.extend(f,b)},getLabels:function(){return f},setLabel:function(a,b){var c={};c[a]=b,l.setLabels(c)},getLabel:function(a){return f[a]},getClip:function(){return c},createLabels:function(b){var d=b||{};return j||(d.ns_st_pb=null!=d.ns_st_pb?d.ns_st_pb:"1"),a.extend(d,l.getLabels()),c.isPlaybackStarted()&&(d.ns_st_ppc=k+""),d},incrementPlayCounter:function(){l.setLabel("ns_st_sp",parseInt(l.getLabel("ns_st_sp"))+1+"")},incrementPauses:function(){l.setLabel("ns_st_pp",l.getPauses()+1+"")},addPlaybackTime:function(a){if(!isNaN(e)){var b=l.getPlaybackTime();b+=a-e,l.setPlaybackTime(b),e=NaN}},addBufferingTime:function(a){if(!isNaN(d)){var b=l.getBufferingTime();b+=a-d,l.setBufferingTime(b),d=NaN}},getBufferingTime:function(){return parseInt(l.getLabel("ns_st_bp"))},setBufferingTime:function(a){l.setLabel("ns_st_bp",a+"")},getPlaybackTime:function(){return parseInt(l.getLabel("ns_st_pa"))},setBufferingTimestamp:function(a){d=a},getBufferingTimestamp:function(){return d},setPlaybackTime:function(a){l.setLabel("ns_st_pa",a+"")},setPlaybackTimestamp:function(a){e=a},getPlaybackTimestamp:function(){return e},getPauses:function(){return parseInt(l.getLabel("ns_st_pp"))},setPauses:function(a){l.setLabel("ns_st_pp",a+"")},isPlaylistStarted:function(){return g},setPlaylistStarted:function(a){g=a},getPlaybackCounter:function(){return k},incrementPlaybackCounter:function(){k++},setFirstEventSent:function(a){j=a}}),b()}return b.resetPlaylist=function(a,c,d){for(var e=a.getClip(),f=a.getLabels(),g={},h=0;d&&h<d.length;h++)f.hasOwnProperty(d[h])&&(g[d[h]]=f[d[h]]);c=new b,c.setLabels(g),n.resetClip(e,c.getClip(),d)},b}(),p=function(){return function(b){function c(){e=1}function d(c){f=a.extend({},c);var d=b.getSSECore().getPixelURL();if(b.getAppCore()){if(b.getSSECore().isProperlyInitialized()){var e=b.getSSECore().getExports().et;if("function"==typeof b.getAppCore().getMeasurementDispatcher){var g=b.getAppCore().getMeasurementDispatcher();g.send(e.HIDDEN,c,d)}else{var h=b.getSSECore().getExports().am,i=h.newApplicationMeasurement(b.getAppCore(),e.HIDDEN,c,d);b.getAppCore().getQueue().offer(i)}}}else d&&b.getSSECore().getPlatformAPI().httpGet(b.getSSECore().prepareUrl(d,c))}var e,f,g=this;a.extend(this,{newEvent:function(a){d(a.eventLabels),a.eventType!=j.HEARTBEAT&&g.incrementEventCounter()},getEventCounter:function(){return e},incrementEventCounter:function(){e++},setEventCounter:function(a){e=a},getMeasurementSnapshot:function(){return f}}),c()}}(),q=function(){return function(b){function c(){g=0,h=0}function d(){h++;var c={},d=a.fixEventTime(c);c.ns_st_po=b.getPlaylist().getClip().getPlaybackTimeOffset()+d-b.getPlaylist().getClip().getPlaybackTimestamp()+"",c.ns_st_pa=b.getPlaylist().getPlaybackTime()+d-b.getPlaylist().getPlaybackTimestamp()+"",c.ns_st_pt=b.getPlaylist().getClip().getPlaybackTime()+d-b.getPlaylist().getClip().getPlaybackTimestamp()+"",c.ns_st_dpt=d-b.getPlaylist().getClip().getPlaybackTimestamp()+"",b.getStateMachine().getCurrentState()==k.BUFFERING_DURING_PLAYBACK?(c.ns_st_bp=b.getPlaylist().getBufferingTime()+d-b.getPlaylist().getBufferingTimestamp()+"",c.ns_st_bt=b.getPlaylist().getClip().getBufferingTime()+d-b.getPlaylist().getClip().getBufferingTimestamp()+"",c.ns_st_dbt=d-b.getPlaylist().getClip().getBufferingTimestamp()+""):c.ns_st_dbt=b.getPlaylist().getClip().getBufferingTime()-b.getPlaylist().getClip().getPreviousBufferingTime()+"",c.ns_st_et=b.getPlaylist().getClip().getElapsedTime()+d-b.getPlaylist().getClip().getElapsedTimestamp()+"",c.ns_st_det=d-b.getPlaylist().getClip().getElapsedTimestamp()+"";var e=a.cloneObject(b.getPlaylist().getClip().getClipPlaybackIntervals()),f=a.cloneObject(b.getPlaylist().getClip().getAssetPlaybackIntervals());e=a.addNewPlaybackInterval(e,b.getPlaylist().getClip().getPlaybackStartPosition(),parseInt(c.ns_st_po),b.getPlaylist().getClip().getPlaybackIntervalMergeTolerance()),
f=a.addNewPlaybackInterval(f,b.getPlaylist().getClip().getPlaybackStartPosition(),parseInt(c.ns_st_po),b.getPlaylist().getClip().getPlaybackIntervalMergeTolerance());var l,m,n=0;for(l=0;l<e.length;l++)n+=Math.abs(e[l].end-e[l].start);c.ns_st_upc=n+"",c.ns_st_dupc=n-b.getPlaylist().getClip().getUniquePlaybackInterval()+"";var o=0;for(l=0;l<e.length;l++)m=Math.abs(e[l].end-e[l].start),m>o&&(o=m);c.ns_st_lpc=o+"",c.ns_st_dlpc=o-b.getPlaylist().getClip().getLongestPlaybackInterval()+"";var p=0;for(l=0;l<f.length;l++)p+=Math.abs(f[l].end-f[l].start);c.ns_st_upa=p+"",c.ns_st_dupa=p-b.getPlaylist().getClip().getAssetUniquePlaybackInterval()+"";var q=0;for(l=0;l<f.length;l++)m=Math.abs(f[l].end-f[l].start),m>q&&(q=m);c.ns_st_lpa=q+"",c.ns_st_dlpa=q-b.getPlaylist().getClip().getAssetLongestPlaybackInterval()+"",c.ns_st_hc=b.getHeartbeat().getCount()+"";var r=b.getSSECore().createLabels(j.HEARTBEAT,c,d);b.getEventManager().newEvent(r),g=0,i.resume()}function e(){null!=f&&(b.getSSECore().getPlatformAPI().clearTimeout(f),f=null)}var f,g,h,i=this,l=m.DEFAULT_HEARTBEAT_INTERVAL;a.extend(this,{getCount:function(){return h},setIntervals:function(a){l=a},getInterval:function(a){var b=0;if(null!=l)for(var c=0;c<l.length;c++){var d=l[c],e=d.playingtime;if(!e||e>a){b=d.interval;break}}return b},getIntervals:function(){return l},resume:function(){e();var a=i.getInterval(b.getPlaylist().getClip().getPlaybackTime()+(+new Date-b.getPlaylist().getClip().getPlaybackTimestamp()));if(a>0){var c=g>0?g:a;f=b.getSSECore().getPlatformAPI().setTimeout(d,c)}g=0},pause:function(){e();var a=i.getInterval(b.getPlaylist().getClip().getPlaybackTime()+(+new Date-b.getPlaylist().getClip().getPlaybackTimestamp()));g=a-(b.getPlaylist().getClip().getPlaybackTime()+(+new Date-b.getPlaylist().getClip().getPlaybackTimestamp()))%a}}),c()}}(),r=function(){return function(b){function c(){}function d(){var c={},d=a.fixEventTime(c);c.ns_st_po=b.getPlaylist().getClip().getExpectedPlaybackPosition(d)+"",b.getPlaylist().addPlaybackTime(d),b.getPlaylist().setPlaybackTimestamp(d),b.getPlaylist().getClip().addPlaybackTime(d),b.getPlaylist().getClip().setPlaybackTimestamp(d),b.getStateMachine().getCurrentState()==k.BUFFERING_DURING_PLAYBACK&&(b.getPlaylist().addBufferingTime(d),b.getPlaylist().setBufferingTimestamp(d),b.getPlaylist().getClip().addBufferingTime(d),b.getPlaylist().getClip().setBufferingTimestamp(d)),b.getPlaylist().getClip().addElapsedTime(d),b.getPlaylist().getClip().setElapsedTimestamp(d),b.getPlaylist().getClip().addInterval(parseInt(c.ns_st_po)),b.getPlaylist().getClip().setPlaybackStartPosition(parseInt(c.ns_st_po));var e=b.getSSECore().createLabels(j.KEEPALIVE,c,d);b.getEventManager().newEvent(e),g.resume()}function e(){null!=f&&(b.getSSECore().getPlatformAPI().clearTimeout(f),f=null)}var f,g=this,h=m.DEFAULT_KEEP_ALIVE_INTERVAL;a.extend(g,{resume:function(){e(),f=b.getSSECore().getPlatformAPI().setTimeout(d,h)},pause:function(){e()},setInterval:function(a){h=a},getInterval:function(){return h}}),c()}}(),s=function(){return function(b){function c(){f=k.IDLE,e=null,d=NaN}var d,e,f,g=this;a.extend(g,{eventTypeToState:function(a){if(f==k.IDLE){if(a==j.PLAY)return k.PLAYING;if(a==j.SEEK_START)return k.SEEKING_BEFORE_PLAYBACK;if(a==j.BUFFER)return k.BUFFERING_BEFORE_PLAYBACK}else if(f==k.PLAYBACK_NOT_STARTED){if(a==j.PLAY)return k.PLAYING;if(a==j.SEEK_START)return k.SEEKING_BEFORE_PLAYBACK;if(a==j.BUFFER)return k.BUFFERING_BEFORE_PLAYBACK;if(a==j.END||a==j.AD_SKIP)return k.IDLE}else if(f==k.PLAYING){if(a==j.END||a==j.AD_SKIP)return k.IDLE;if(a==j.BUFFER)return k.BUFFERING_DURING_PLAYBACK;if(a==j.PAUSE)return k.PAUSED;if(a==j.SEEK_START)return k.SEEKING_DURING_PLAYBACK}else if(f==k.PAUSED){if(a==j.END||a==j.AD_SKIP)return k.IDLE;if(a==j.BUFFER)return k.BUFFERING_DURING_PAUSE;if(a==j.PLAY)return k.PLAYING;if(a==j.SEEK_START)return k.SEEKING_DURING_PAUSE}else if(f==k.BUFFERING_BEFORE_PLAYBACK){if(a==j.END||a==j.AD_SKIP)return k.IDLE;if(a==j.PAUSE||a==j.BUFFER_STOP)return k.PLAYBACK_NOT_STARTED;if(a==j.PLAY)return k.PLAYING;if(a==j.SEEK_START)return k.SEEKING_BEFORE_PLAYBACK}else if(f==k.BUFFERING_DURING_PLAYBACK){if(a==j.END||a==j.AD_SKIP)return k.IDLE;if(a==j.PLAY||a==j.BUFFER_STOP)return k.PLAYING;if(a==j.PAUSE_ON_BUFFERING)return k.PAUSED_DURING_BUFFERING;if(a==j.SEEK_START)return k.SEEKING_DURING_BUFFERING;if(a==j.PAUSE)return k.PAUSED}else if(f==k.BUFFERING_DURING_SEEKING){if(a==j.END||a==j.AD_SKIP)return k.IDLE;if(a==j.PLAY)return k.PLAYING;if(a==j.BUFFER_STOP)return k.SEEKING_DURING_PLAYBACK;if(a==j.PAUSE)return k.PAUSED}else if(f==k.BUFFERING_DURING_PAUSE){if(a==j.END||a==j.AD_SKIP)return k.IDLE;if(a==j.PLAY)return k.PLAYING;if(a==j.SEEK_START)return k.SEEKING_DURING_PAUSE;if(a==j.BUFFER_STOP||a==j.PAUSE)return k.PAUSED}else if(f==k.SEEKING_BEFORE_PLAYBACK){if(a==j.END||a==j.AD_SKIP)return k.IDLE;if(a==j.PAUSE)return k.PLAYBACK_NOT_STARTED;if(a==j.PLAY)return k.PLAYING;if(a==j.BUFFER)return k.BUFFERING_BEFORE_PLAYBACK}else if(f==k.SEEKING_DURING_PLAYBACK){if(a==j.END||a==j.AD_SKIP)return k.IDLE;if(a==j.PLAY)return k.PLAYING;if(a==j.PAUSE)return k.PAUSED;if(a==j.BUFFER)return k.BUFFERING_DURING_SEEKING}else if(f==k.SEEKING_DURING_BUFFERING){if(a==j.END||a==j.AD_SKIP)return k.IDLE;if(a==j.PLAY)return k.PLAYING;if(a==j.PAUSE||a==j.BUFFER_STOP)return k.PAUSED}else if(f==k.SEEKING_DURING_PAUSE){if(a==j.END||a==j.AD_SKIP)return k.IDLE;if(a==j.PLAY)return k.PLAYING;if(a==j.PAUSE||a==j.BUFFER_STOP)return k.PAUSED;if(a==j.BUFFER)return k.BUFFERING_DURING_PAUSE}else if(f==k.PAUSED_DURING_BUFFERING){if(a==j.END||a==j.AD_SKIP)return k.IDLE;if(a==j.SEEK_START)return k.SEEKING_DURING_BUFFERING;if(a==j.PAUSE)return k.PAUSED;if(a==j.PLAY||a==j.BUFFER_STOP)return k.PLAYING}return null},getCurrentState:function(){return f},newEvent:function(a,b){var c=g.eventTypeToState(a);f!=c&&(e=f,f=c,d=b)},getPreviousState:function(){return e},getLastStateChangeTimestamp:function(){return d}}),c()}}(),t=function(){return function(b){var c=this;a.extend(c,{onSeekStartWhenPausedOrBufferingDuringPause:function(a,c){var d=parseInt(c.ns_st_po);b.getPlaylist().getClip().isSeeking()?b.getPlaylist().getClip().isCollectingSeekingTime()||(b.getPlaylist().getClip().setSeekingTimestamp(a),b.getPlaylist().getClip().setCollectingSeekingTime(!0)):b.getPlaylist().getClip().incrementSeeks(),b.getPlaylist().getClip().isSeeking()||(b.getPlaylist().getClip().setSeeking(!0),b.getPlaylist().getClip().setCollectingSeekingTime(!0),b.getPlaylist().getClip().setSeekStartPosition(d),b.getPlaylist().getClip().setSeekingTimestamp(a))},onBufferWhenSeekingOrPlayBackNotStartedOrPaused:function(a,c){b.getPlaylist().setBufferingTimestamp(a),b.getPlaylist().getClip().setBufferingTimestamp(a)},onPlayWhenSeekingDuringBufferingOrSeekingDuringPause:function(a,c){var d=parseInt(c.ns_st_po);b.getPlaylist().getClip().isSeeking()&&(b.getPlaylist().getClip().isCollectingSeekingTime()&&(b.getPlaylist().getClip().addSeekingTime(a),b.getPlaylist().getClip().setCollectingSeekingTime(!1)),b.getPlaylist().getClip().addSeekingAmount(d),b.getPlaylist().getClip().setSeeking(!1)),b.getPlaylist().getClip().incrementPlayCounter(),b.getPlaylist().setPlaybackTimestamp(a),b.getPlaylist().getClip().setPlaybackTimestamp(a),b.getPlaylist().getClip().addElapsedTime(a),b.getPlaylist().getClip().setElapsedTimestamp(a),b.getPlaylist().getClip().setPlaybackStartPosition(d),b.getHeartbeat().resume(),b.getKeepAlive().resume();var e=b.getSSECore().createLabels(j.PLAY,c,a);b.getEventManager().newEvent(e)},onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause:function(a,c){b.getPlaylist().addBufferingTime(a),b.getPlaylist().getClip().addBufferingTime(a)},onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause:function(a,c){b.getPlaylist().getClip().isSeeking()&&b.getPlaylist().getClip().isCollectingSeekingTime()&&(b.getPlaylist().getClip().addSeekingTime(a),b.getPlaylist().getClip().setCollectingSeekingTime(!1))},onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause:function(c,d){b.getSSECore().resetHeartbeat(),b.getSSECore().resetKeepAlive(),b.getPlaylist().getClip().addElapsedTime(c);var e=b.getSSECore().createLabels(j.END,d,c);b.getEventManager().newEvent(e),b.getPlaylist().getClip().isSeeking()&&b.getPlaylist().getClip().isCollectingSeekingTime()&&(b.getPlaylist().getClip().setSeekingTimeBeforeEnd(c-b.getPlaylist().getClip().getSeekingTimestamp()),b.getPlaylist().getClip().setCollectingSeekingTime(!1)),b.getPlaylist().storeClipPlaybackCounters(),b.getPlaylist().getClip().resetClipLifecycleLabels(),b.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&a.parseBoolean(d.ns_st_pe,!1)&&b.getSSECore().resetPlaylist()},onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause:function(a,c){b.getPlaylist().getClip().isSeeking()&&b.getPlaylist().getClip().isCollectingSeekingTime()&&(b.getPlaylist().getClip().addSeekingTime(a),b.getPlaylist().getClip().setCollectingSeekingTime(!1))}})}}(),u=function(){return function(b){var c=this;a.extend(c,{onEndOrAdSkip:function(c,d){b.getPlaylist().addBufferingTime(c),b.getPlaylist().getClip().addBufferingTime(c),b.getPlaylist().getClip().isSeeking()&&b.getPlaylist().getClip().isCollectingSeekingTime()&&b.getPlaylist().getClip().setSeekingTimeBeforeEnd(c-b.getPlaylist().getClip().getSeekingTimestamp()),b.getPlaylist().getClip().resetClipLifecycleLabels(),b.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&a.parseBoolean(d.ns_st_pe,!1)&&b.getSSECore().resetPlaylist()},onBufferStop:function(a,c){b.getPlaylist().addBufferingTime(a),b.getPlaylist().getClip().addBufferingTime(a),b.getPlaylist().getClip().isSeeking()&&b.getPlaylist().getClip().isCollectingSeekingTime()&&(b.getPlaylist().getClip().addSeekingTime(a),b.getPlaylist().getClip().setCollectingSeekingTime(!1))},onSeekStart:function(a,c){var d=parseInt(c.ns_st_po);b.getPlaylist().addBufferingTime(a),b.getPlaylist().getClip().addBufferingTime(a),b.getPlaylist().getClip().isSeeking()?b.getPlaylist().getClip().isCollectingSeekingTime()||(b.getPlaylist().getClip().setSeekingTimestamp(a),b.getPlaylist().getClip().setCollectingSeekingTime(!0)):b.getPlaylist().getClip().incrementSeeks(),b.getPlaylist().getClip().isSeeking()||(b.getPlaylist().getClip().setSeeking(!0),b.getPlaylist().getClip().setCollectingSeekingTime(!0),b.getPlaylist().getClip().setSeekStartPosition(d),b.getPlaylist().getClip().setSeekingTimestamp(a))},onPause:function(a,c){b.getPlaylist().addBufferingTime(a),b.getPlaylist().getClip().addBufferingTime(a),b.getPlaylist().getClip().isSeeking()&&b.getPlaylist().getClip().isCollectingSeekingTime()&&(b.getPlaylist().getClip().addSeekingTime(a),b.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(a,c){var d=parseInt(c.ns_st_po);b.getPlaylist().addBufferingTime(a),b.getPlaylist().getClip().addBufferingTime(a),b.getPlaylist().getClip().isSeeking()&&(b.getPlaylist().getClip().isCollectingSeekingTime()&&(b.getPlaylist().getClip().addSeekingTime(a),b.getPlaylist().getClip().setCollectingSeekingTime(!1)),b.getPlaylist().getClip().addSeekingAmount(d),b.getPlaylist().getClip().setSeeking(!1)),b.getPlaylist().isPlaylistStarted()||(b.getPlaylist().setPlaylistStarted(!0),b.getPlaylist().incrementPlaybackCounter()),b.getPlaylist().getClip().setClipStarted(!0),b.getPlaylist().getClip().setPlaybackStarted(!0),b.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==b.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(b.getPlaylist().getClip().getLabels().ns_st_pn)<=b.getPlaylist().getClip().getLowestPartNumberPlayed())&&(b.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(b.getPlaylist().getClip().getLabels().ns_st_pn)),b.getPlaylist().getClip().incrementAssetPlaybackCounter(),b.getPlaylist().getClip().resetAssetPlaybackCounters()),b.getPlaylist().getClip().incrementPlayCounter(),b.getPlaylist().setPlaybackTimestamp(a),b.getPlaylist().getClip().setPlaybackTimestamp(a),b.getPlaylist().getClip().setElapsedTimestamp(a),b.getPlaylist().getClip().setPlaybackStartPosition(d),b.getSSECore().isLoadingTimeSent()||(c.ns_st_lt=b.getSSECore().getLoadTimeOffset()+a-b.getSSECore().getInitTimestamp()+"",b.getSSECore().setLoadingTimeSent(!0)),b.getHeartbeat().resume(),b.getKeepAlive().resume();var e=b.getSSECore().createLabels(j.PLAY,c,a);b.getEventManager().newEvent(e)}})}}(),v=function(){return function(b){var c=this;a.extend(c,{onEndAndSkip:function(c,d){b.getSSECore().resetHeartbeat(),b.getSSECore().resetKeepAlive(),b.getPlaylist().addBufferingTime(c),b.getPlaylist().getClip().addBufferingTime(c),b.getPlaylist().getClip().addElapsedTime(c);var e=b.getSSECore().createLabels(j.END,d,c);b.getEventManager().newEvent(e),b.getPlaylist().getClip().isSeeking()&&b.getPlaylist().getClip().isCollectingSeekingTime()&&(b.getPlaylist().getClip().setSeekingTimeBeforeEnd(c-b.getPlaylist().getClip().getSeekingTimestamp()),b.getPlaylist().getClip().setCollectingSeekingTime(!1)),b.getPlaylist().storeClipPlaybackCounters(),b.getPlaylist().getClip().resetClipLifecycleLabels(),b.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&a.parseBoolean(d.ns_st_pe,!1)&&b.getSSECore().resetPlaylist()},onPause:function(a,c){b.getPlaylist().addBufferingTime(a),b.getPlaylist().getClip().addBufferingTime(a)},onPlay:function(a,c){var d=parseInt(c.ns_st_po);b.getPlaylist().addBufferingTime(a),b.getPlaylist().getClip().addBufferingTime(a),b.getPlaylist().getClip().isSeeking()&&(b.getPlaylist().getClip().isCollectingSeekingTime()&&(b.getPlaylist().getClip().addSeekingTime(a),b.getPlaylist().getClip().setCollectingSeekingTime(!1)),b.getPlaylist().getClip().addSeekingAmount(d),b.getPlaylist().getClip().setSeeking(!1)),b.getPlaylist().getClip().incrementPlayCounter(),b.getPlaylist().setPlaybackTimestamp(a),b.getPlaylist().getClip().setPlaybackTimestamp(a),b.getPlaylist().getClip().addElapsedTime(a),b.getPlaylist().getClip().setElapsedTimestamp(a),b.getPlaylist().getClip().setPlaybackStartPosition(d),b.getHeartbeat().resume(),b.getKeepAlive().resume();var e=b.getSSECore().createLabels(j.PLAY,c,a);b.getEventManager().newEvent(e)}})}}(),w=function(){return function(b){var c=this;a.extend(c,{onPauseOnBuffering:function(a,c){var d=parseInt(c.ns_st_po);b.getSSECore().stopPausedOnBufferingTimer(),b.getHeartbeat().pause(),b.getSSECore().resetKeepAlive(),b.getPlaylist().addPlaybackTime(a),b.getPlaylist().getClip().addPlaybackTime(a),b.getPlaylist().getClip().addElapsedTime(a),b.getPlaylist().getClip().setElapsedTimestamp(a),b.getPlaylist().getClip().addInterval(d),b.getPlaylist().addBufferingTime(a),b.getPlaylist().getClip().addBufferingTime(a),b.getPlaylist().incrementPauses(),b.getPlaylist().getClip().incrementPauses();var e=b.getSSECore().createLabels(j.PAUSE,c,a);b.getEventManager().newEvent(e),b.getPlaylist().setBufferingTimestamp(a),b.getPlaylist().getClip().setBufferingTimestamp(a),b.getPlaylist().getClip().setPlaybackTimeOffset(d)},onBufferStop:function(a,c){b.getPlaylist().addBufferingTime(a),b.getPlaylist().getClip().addBufferingTime(a)},onEndOrAdSkip:function(c,d){var e=parseInt(d.ns_st_po);b.getSSECore().resetHeartbeat(),b.getSSECore().resetKeepAlive(),b.getSSECore().stopPausedOnBufferingTimer(),b.getPlaylist().addBufferingTime(c),b.getPlaylist().getClip().addBufferingTime(c),b.getPlaylist().getClip().addPlaybackTime(c),b.getPlaylist().getClip().addElapsedTime(c),b.getPlaylist().getClip().addInterval(e);var f=b.getSSECore().createLabels(j.END,d,c);b.getEventManager().newEvent(f),b.getPlaylist().getClip().resetClipLifecycleLabels(),b.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&a.parseBoolean(d.ns_st_pe,!1)&&b.getSSECore().resetPlaylist()},onSeekStart:function(a,c){var d=parseInt(c.ns_st_po);b.getSSECore().stopPausedOnBufferingTimer(),b.getPlaylist().addPlaybackTime(a),b.getPlaylist().getClip().addPlaybackTime(a),b.getPlaylist().getClip().addElapsedTime(a),b.getPlaylist().getClip().setElapsedTimestamp(a),b.getPlaylist().getClip().addInterval(d),b.getPlaylist().addBufferingTime(a),b.getPlaylist().getClip().addBufferingTime(a),b.getPlaylist().getClip().incrementSeeks(),b.getPlaylist().getClip().setSeeking(!0),b.getPlaylist().getClip().setCollectingSeekingTime(!0),b.getPlaylist().getClip().setSeekStartPosition(d),b.getPlaylist().getClip().setSeekingTimestamp(a),b.getPlaylist().incrementPauses(),b.getPlaylist().getClip().incrementPauses();var e=b.getSSECore().createLabels(j.PAUSE,c,a);b.getEventManager().newEvent(e)},onPause:function(a,c){var d=parseInt(c.ns_st_po);b.getSSECore().stopPausedOnBufferingTimer(),b.getPlaylist().addPlaybackTime(a),b.getPlaylist().getClip().addPlaybackTime(a),b.getPlaylist().getClip().addElapsedTime(a),b.getPlaylist().getClip().setElapsedTimestamp(a),b.getPlaylist().getClip().addInterval(d),b.getPlaylist().addBufferingTime(a),b.getPlaylist().getClip().addBufferingTime(a),b.getPlaylist().incrementPauses(),b.getPlaylist().getClip().incrementPauses();var e=b.getSSECore().createLabels(j.PAUSE,c,a);b.getEventManager().newEvent(e)},onPlay:function(a,c){b.getSSECore().stopPausedOnBufferingTimer(),b.getPlaylist().addBufferingTime(a),b.getPlaylist().getClip().addBufferingTime(a)}})}}(),x=function(){return function(b){var c=this;a.extend(c,{onEndOrAdSkip:function(c,d){b.getSSECore().resetHeartbeat(),b.getSSECore().resetKeepAlive(),b.getSSECore().stopPausedOnBufferingTimer(),b.getPlaylist().addBufferingTime(c),b.getPlaylist().getClip().addBufferingTime(c),b.getPlaylist().getClip().addElapsedTime(c);var e=b.getSSECore().createLabels(j.END,d,c);b.getEventManager().newEvent(e),b.getPlaylist().getClip().isSeeking()&&b.getPlaylist().getClip().isCollectingSeekingTime()&&(b.getPlaylist().getClip().setSeekingTimeBeforeEnd(c-b.getPlaylist().getClip().getSeekingTimestamp()),b.getPlaylist().getClip().setCollectingSeekingTime(!1)),b.getPlaylist().storeClipPlaybackCounters(),b.getPlaylist().getClip().resetClipLifecycleLabels(),b.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&a.parseBoolean(d.ns_st_pe,!1)&&b.getSSECore().resetPlaylist()},onPause:function(a,c){b.getPlaylist().addBufferingTime(a),b.getPlaylist().getClip().addBufferingTime(a),b.getPlaylist().incrementPauses(),b.getPlaylist().getClip().incrementPauses(),b.getPlaylist().getClip().isSeeking()&&b.getPlaylist().getClip().isCollectingSeekingTime()&&(b.getPlaylist().getClip().addSeekingTime(a),b.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(a,c){var d=parseInt(c.ns_st_po);b.getPlaylist().addBufferingTime(a),b.getPlaylist().getClip().addBufferingTime(a),b.getPlaylist().getClip().isSeeking()&&(b.getPlaylist().getClip().isCollectingSeekingTime()&&(b.getPlaylist().getClip().addSeekingTime(a),b.getPlaylist().getClip().setCollectingSeekingTime(!1)),b.getPlaylist().getClip().addSeekingAmount(d),b.getPlaylist().getClip().setSeeking(!1)),b.getPlaylist().getClip().incrementPlayCounter(),b.getPlaylist().setPlaybackTimestamp(a),b.getPlaylist().getClip().setPlaybackTimestamp(a),b.getPlaylist().getClip().addElapsedTime(a),b.getPlaylist().getClip().setElapsedTimestamp(a),b.getPlaylist().getClip().setPlaybackStartPosition(d),b.getHeartbeat().resume(),b.getKeepAlive().resume();var e=b.getSSECore().createLabels(j.PLAY,c,a);b.getEventManager().newEvent(e)}})}}(),y=function(){return function(b){var c=this;a.extend(c,{onBuffer:function(a,c){b.getPlaylist().getClip().setSeekingTime(b.getPlaylist().getClip().getSeekingTimeBeforeEnd()),b.getPlaylist().setBufferingTimestamp(a),b.getPlaylist().getClip().setBufferingTimestamp(a)},onSeekStart:function(a,c){var d=parseInt(c.ns_st_po);b.getPlaylist().getClip().setSeekingTime(b.getPlaylist().getClip().getSeekingTimeBeforeEnd()),b.getPlaylist().getClip().incrementSeeks(),b.getPlaylist().getClip().setSeeking(!0),b.getPlaylist().getClip().setCollectingSeekingTime(!0),b.getPlaylist().getClip().setSeekStartPosition(d),b.getPlaylist().getClip().setSeekingTimestamp(a)},onPlay:function(a,c){var d=parseInt(c.ns_st_po);b.getPlaylist().getClip().setSeekingTime(b.getPlaylist().getClip().getSeekingTimeBeforeEnd()),b.getPlaylist().getClip().isSeeking()&&(b.getPlaylist().getClip().addSeekingAmount(d),b.getPlaylist().getClip().setSeeking(!1)),b.getPlaylist().isPlaylistStarted()||(b.getPlaylist().setPlaylistStarted(!0),b.getPlaylist().incrementPlaybackCounter()),b.getPlaylist().getClip().setClipStarted(!0),b.getPlaylist().getClip().setPlaybackStarted(!0),b.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==b.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(b.getPlaylist().getClip().getLabel("ns_st_pn"))<=b.getPlaylist().getClip().getLowestPartNumberPlayed())&&(b.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(b.getPlaylist().getClip().getLabel("ns_st_pn"))),b.getPlaylist().getClip().incrementAssetPlaybackCounter(),b.getPlaylist().getClip().resetAssetPlaybackCounters()),b.getPlaylist().getClip().incrementPlayCounter(),b.getPlaylist().setPlaybackTimestamp(a),b.getPlaylist().getClip().setPlaybackTimestamp(a),b.getPlaylist().getClip().setElapsedTimestamp(a),b.getPlaylist().getClip().setPlaybackStartPosition(d),b.getSSECore().isLoadingTimeSent()||(c.ns_st_lt=b.getSSECore().getLoadTimeOffset()+a-b.getSSECore().getInitTimestamp()+"",b.getSSECore().setLoadingTimeSent(!0)),b.getHeartbeat().resume(),b.getKeepAlive().resume();var e=b.getSSECore().createLabels(j.PLAY,c,a);b.getEventManager().newEvent(e)}})}}(),z=function(){return function(b){var c=this;a.extend(c,{onEndOrAdSkip:function(c,d){b.getSSECore().resetHeartbeat(),b.getSSECore().resetKeepAlive(),b.getPlaylist().getClip().addElapsedTime(c);var e=b.getSSECore().createLabels(j.END,d,c);b.getEventManager().newEvent(e),b.getPlaylist().getClip().isSeeking()&&b.getPlaylist().getClip().isCollectingSeekingTime()&&(b.getPlaylist().getClip().setSeekingTimeBeforeEnd(c-b.getPlaylist().getClip().getSeekingTimestamp()),b.getPlaylist().getClip().setSeeking(!1)),b.getPlaylist().storeClipPlaybackCounters(),b.getPlaylist().getClip().resetClipLifecycleLabels(),b.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&a.parseBoolean(d.ns_st_pe,!1)&&b.getSSECore().resetPlaylist()},onPlay:function(a,c){var d=parseInt(c.ns_st_po);b.getPlaylist().getClip().isSeeking()&&(b.getPlaylist().getClip().isCollectingSeekingTime()&&(b.getPlaylist().getClip().addSeekingTime(a),b.getPlaylist().getClip().setCollectingSeekingTime(!1)),b.getPlaylist().getClip().addSeekingAmount(d),b.getPlaylist().getClip().setSeeking(!1)),b.getPlaylist().getClip().incrementPlayCounter(),b.getPlaylist().setPlaybackTimestamp(a),b.getPlaylist().getClip().setPlaybackTimestamp(a),b.getPlaylist().getClip().addElapsedTime(a),b.getPlaylist().getClip().setElapsedTimestamp(a),b.getPlaylist().getClip().setPlaybackStartPosition(d),b.getHeartbeat().resume(),b.getKeepAlive().resume();var e=b.getSSECore().createLabels(j.PLAY,c,a);b.getEventManager().newEvent(e)}})}}(),A=function(){return function(b){var c=this;a.extend(c,{onEndOrAdSkip:function(c,d){b.getSSECore().resetHeartbeat(),b.getSSECore().resetKeepAlive(),b.getPlaylist().addBufferingTime(c),b.getPlaylist().getClip().addBufferingTime(c),b.getPlaylist().getClip().addElapsedTime(c);var e=b.getSSECore().createLabels(j.END,d,c);b.getEventManager().newEvent(e),b.getPlaylist().getClip().isSeeking()&&b.getPlaylist().getClip().isCollectingSeekingTime()&&(b.getPlaylist().getClip().setSeekingTimeBeforeEnd(c-b.getPlaylist().getClip().getSeekingTimestamp()),b.getPlaylist().getClip().setCollectingSeekingTime(!1)),b.getPlaylist().storeClipPlaybackCounters(),b.getPlaylist().getClip().resetClipLifecycleLabels(),b.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&a.parseBoolean(d.ns_st_pe,!1)&&b.getSSECore().resetPlaylist()},onBufferStop:function(a,c){var d=parseInt(c.ns_st_po);b.getPlaylist().addBufferingTime(a),b.getPlaylist().getClip().addBufferingTime(a),b.getPlaylist().setPlaybackTimestamp(a),b.getPlaylist().getClip().setPlaybackTimestamp(a),b.getPlaylist().getClip().addElapsedTime(a),b.getPlaylist().getClip().setElapsedTimestamp(a),b.getPlaylist().getClip().setPlaybackStartPosition(d),b.getHeartbeat().resume(),b.getKeepAlive().resume();var e=b.getSSECore().createLabels(j.PLAY,c,a);b.getEventManager().newEvent(e)},onSeekStart:function(a,c){var d=parseInt(c.ns_st_po);b.getPlaylist().addBufferingTime(a),b.getPlaylist().getClip().addBufferingTime(a),b.getPlaylist().getClip().isSeeking()?b.getPlaylist().getClip().isCollectingSeekingTime()||(b.getPlaylist().getClip().setSeekingTimestamp(a),b.getPlaylist().getClip().setCollectingSeekingTime(!0)):b.getPlaylist().getClip().incrementSeeks(),b.getPlaylist().getClip().isSeeking()||(b.getPlaylist().getClip().setSeeking(!0),b.getPlaylist().getClip().setCollectingSeekingTime(!0),b.getPlaylist().getClip().setSeekStartPosition(d),b.getPlaylist().getClip().setSeekingTimestamp(a))},onPause:function(a,c){b.getPlaylist().addBufferingTime(a),b.getPlaylist().getClip().addBufferingTime(a),b.getPlaylist().incrementPauses(),b.getPlaylist().getClip().incrementPauses()},onPlay:function(a,c){var d=parseInt(c.ns_st_po);b.getPlaylist().addBufferingTime(a),b.getPlaylist().getClip().addBufferingTime(a),b.getPlaylist().getClip().incrementPlayCounter(),b.getPlaylist().setPlaybackTimestamp(a),b.getPlaylist().getClip().setPlaybackTimestamp(a),b.getPlaylist().getClip().addElapsedTime(a),b.getPlaylist().getClip().setElapsedTimestamp(a),b.getPlaylist().getClip().setPlaybackStartPosition(d),b.getHeartbeat().resume(),b.getKeepAlive().resume();var e=b.getSSECore().createLabels(j.PLAY,c,a);b.getEventManager().newEvent(e)}})}}(),B=function(){return function(b){var c=this;a.extend(c,{onEndOrAdSkip:function(c,d){b.getPlaylist().getClip().isSeeking()&&b.getPlaylist().getClip().isCollectingSeekingTime()&&(b.getPlaylist().getClip().setSeekingTimeBeforeEnd(c-b.getPlaylist().getClip().getSeekingTimestamp()),b.getPlaylist().getClip().setCollectingSeekingTime(!1)),b.getPlaylist().storeClipPlaybackCounters(),b.getPlaylist().getClip().resetClipLifecycleLabels(),b.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&a.parseBoolean(d.ns_st_pe,!1)&&b.getSSECore().resetPlaylist()},onSeekStart:function(a,c){var d=parseInt(c.ns_st_po);b.getPlaylist().getClip().isSeeking()?b.getPlaylist().getClip().setSeekingTimestamp(a):b.getPlaylist().getClip().incrementSeeks(),b.getPlaylist().getClip().isSeeking()||(b.getPlaylist().getClip().setSeeking(!0),b.getPlaylist().getClip().setCollectingSeekingTime(!0),b.getPlaylist().getClip().setSeekStartPosition(d),b.getPlaylist().getClip().setSeekingTimestamp(a))},onPlay:function(a,c){var d=parseInt(c.ns_st_po);b.getPlaylist().getClip().isSeeking()&&(b.getPlaylist().getClip().addSeekingAmount(d),b.getPlaylist().getClip().setSeeking(!1)),b.getPlaylist().isPlaylistStarted()||(b.getPlaylist().setPlaylistStarted(!0),b.getPlaylist().incrementPlaybackCounter()),b.getPlaylist().getClip().setClipStarted(!0),b.getPlaylist().getClip().setPlaybackStarted(!0),b.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==b.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(b.getPlaylist().getClip().getLabels().ns_st_pn)<=b.getPlaylist().getClip().getLowestPartNumberPlayed())&&(b.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(b.getPlaylist().getClip().getLabels().ns_st_pn)),b.getPlaylist().getClip().incrementAssetPlaybackCounter(),b.getPlaylist().getClip().resetAssetPlaybackCounters()),b.getPlaylist().getClip().incrementPlayCounter(),b.getPlaylist().setPlaybackTimestamp(a),b.getPlaylist().getClip().setPlaybackTimestamp(a),b.getPlaylist().getClip().setElapsedTimestamp(a),b.getPlaylist().getClip().setPlaybackStartPosition(d),b.getSSECore().isLoadingTimeSent()||(c.ns_st_lt=b.getSSECore().getLoadTimeOffset()+a-b.getSSECore().getInitTimestamp()+"",b.getSSECore().setLoadingTimeSent(!0)),b.getHeartbeat().resume(),b.getKeepAlive().resume();var e=b.getSSECore().createLabels(j.PLAY,c,a);b.getEventManager().newEvent(e)}})}}(),C=function(){return function(b){var c=this;a.extend(c,{onEndOrAdSkip:function(c,d){var e=parseInt(d.ns_st_po);b.getSSECore().resetHeartbeat(),b.getSSECore().resetKeepAlive(),b.getPlaylist().addPlaybackTime(c),b.getPlaylist().getClip().addPlaybackTime(c),b.getPlaylist().getClip().addElapsedTime(c),b.getPlaylist().getClip().addInterval(e);var f=b.getSSECore().createLabels(j.END,d,c);b.getEventManager().newEvent(f),b.getPlaylist().getClip().resetClipLifecycleLabels(),b.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&a.parseBoolean(d.ns_st_pe,!1)&&b.getSSECore().resetPlaylist()},onBuffer:function(a,c){b.getSSECore().isPauseOnBufferingEnabled()&&b.getSSECore().startPausedOnBufferingTimer(a,c),b.getPlaylist().getClip().incrementBufferCount(),b.getPlaylist().setBufferingTimestamp(a),b.getPlaylist().getClip().setBufferingTimestamp(a)},onSeekStart:function(a,c){var d=parseInt(c.ns_st_po);b.getHeartbeat().pause(),b.getSSECore().resetKeepAlive(),b.getPlaylist().addPlaybackTime(a),b.getPlaylist().getClip().addPlaybackTime(a),b.getPlaylist().getClip().addElapsedTime(a),b.getPlaylist().getClip().setElapsedTimestamp(a),b.getPlaylist().getClip().addInterval(d),b.getPlaylist().getClip().incrementSeeks(),b.getPlaylist().getClip().setSeeking(!0),b.getPlaylist().getClip().setCollectingSeekingTime(!0),b.getPlaylist().getClip().setSeekStartPosition(d),b.getPlaylist().getClip().setSeekingTimestamp(a),b.getPlaylist().incrementPauses(),b.getPlaylist().getClip().incrementPauses();var e=b.getSSECore().createLabels(j.PAUSE,c,a);b.getEventManager().newEvent(e)},onPause:function(a,c){var d=parseInt(c.ns_st_po);b.getHeartbeat().pause(),b.getSSECore().resetKeepAlive(),b.getPlaylist().addPlaybackTime(a),b.getPlaylist().getClip().addPlaybackTime(a),b.getPlaylist().getClip().addElapsedTime(a),b.getPlaylist().getClip().setElapsedTimestamp(a),b.getPlaylist().getClip().addInterval(d),b.getPlaylist().incrementPauses(),b.getPlaylist().getClip().incrementPauses();var e=b.getSSECore().createLabels(j.PAUSE,c,a);b.getEventManager().newEvent(e)}})}}(),D=function(){return function(b){var c=this;a.extend(c,{onEndOrAdSkip:function(c,d){b.getPlaylist().getClip().isSeeking()&&b.getPlaylist().getClip().isCollectingSeekingTime()&&(b.getPlaylist().getClip().setSeekingTimeBeforeEnd(c-b.getPlaylist().getClip().getSeekingTimestamp()),b.getPlaylist().getClip().setCollectingSeekingTime(!1)),b.getPlaylist().storeClipPlaybackCounters(),b.getPlaylist().getClip().resetClipLifecycleLabels(),b.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&a.parseBoolean(d.ns_st_pe,!1)&&b.getSSECore().resetPlaylist()},onPause:function(a,c){b.getPlaylist().getClip().isSeeking()&&b.getPlaylist().getClip().isCollectingSeekingTime()&&(b.getPlaylist().getClip().addSeekingTime(a),b.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(a,c){var d=parseInt(c.ns_st_po);b.getPlaylist().getClip().isSeeking()&&(b.getPlaylist().getClip().isCollectingSeekingTime()&&(b.getPlaylist().getClip().addSeekingTime(a),b.getPlaylist().getClip().setCollectingSeekingTime(!1)),b.getPlaylist().getClip().addSeekingAmount(d),b.getPlaylist().getClip().setSeeking(!1)),b.getPlaylist().isPlaylistStarted()||(b.getPlaylist().setPlaylistStarted(!0),b.getPlaylist().incrementPlaybackCounter()),b.getPlaylist().getClip().setClipStarted(!0),b.getPlaylist().getClip().setPlaybackStarted(!0),b.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==b.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(b.getPlaylist().getClip().getLabels().ns_st_pn)<=b.getPlaylist().getClip().getLowestPartNumberPlayed())&&(b.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(b.getPlaylist().getClip().getLabels().ns_st_pn)),b.getPlaylist().getClip().incrementAssetPlaybackCounter(),b.getPlaylist().getClip().resetAssetPlaybackCounters()),b.getPlaylist().getClip().incrementPlayCounter(),b.getPlaylist().setPlaybackTimestamp(a),b.getPlaylist().getClip().setPlaybackTimestamp(a),b.getPlaylist().getClip().setElapsedTimestamp(a),
b.getPlaylist().getClip().setPlaybackStartPosition(d),b.getSSECore().isLoadingTimeSent()||(c.ns_st_lt=b.getSSECore().getLoadTimeOffset()+a-b.getSSECore().getInitTimestamp()+"",b.getSSECore().setLoadingTimeSent(!0)),b.getHeartbeat().resume(),b.getKeepAlive().resume();var e=b.getSSECore().createLabels(j.PLAY,c,a);b.getEventManager().newEvent(e)}})}}(),E=function(){return function(b){var c=this;a.extend(c,{onPause:function(a,c){b.getPlaylist().incrementPauses(),b.getPlaylist().getClip().incrementPauses(),b.getPlaylist().getClip().isSeeking()&&b.getPlaylist().getClip().isCollectingSeekingTime()&&(b.getPlaylist().getClip().addSeekingTime(a),b.getPlaylist().getClip().setCollectingSeekingTime(!1))}})}}(),F=function(){return function(b){var c=this;a.extend(c,{onEndOrAdSkip:function(c,d){parseInt(d.ns_st_po);b.getSSECore().resetHeartbeat(),b.getSSECore().resetKeepAlive(),b.getPlaylist().getClip().addElapsedTime(c);var e=b.getSSECore().createLabels(j.END,d,c);b.getEventManager().newEvent(e),b.getPlaylist().getClip().isSeeking()&&b.getPlaylist().getClip().isCollectingSeekingTime()&&(b.getPlaylist().getClip().setSeekingTimeBeforeEnd(c-b.getPlaylist().getClip().getSeekingTimestamp()),b.getPlaylist().getClip().setCollectingSeekingTime(!1)),b.getPlaylist().storeClipPlaybackCounters(),b.getPlaylist().getClip().resetClipLifecycleLabels(),b.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&a.parseBoolean(d.ns_st_pe,!1)&&b.getSSECore().resetPlaylist()},onPlay:function(a,c){var d=parseInt(c.ns_st_po);b.getPlaylist().getClip().isSeeking()&&(b.getPlaylist().getClip().isCollectingSeekingTime()&&(b.getPlaylist().getClip().addSeekingTime(a),b.getPlaylist().getClip().setCollectingSeekingTime(!1)),b.getPlaylist().getClip().addSeekingAmount(d),b.getPlaylist().getClip().setSeeking(!1)),b.getPlaylist().getClip().incrementPlayCounter(),b.getPlaylist().setPlaybackTimestamp(a),b.getPlaylist().getClip().setPlaybackTimestamp(a),b.getPlaylist().getClip().addElapsedTime(a),b.getPlaylist().getClip().setElapsedTimestamp(a),b.getPlaylist().getClip().setPlaybackStartPosition(d),b.getSSECore().isLoadingTimeSent()||(c.ns_st_lt=b.getSSECore().getLoadTimeOffset()+a-b.getSSECore().getInitTimestamp()+"",b.getSSECore().setLoadingTimeSent(!0)),b.getHeartbeat().resume(),b.getKeepAlive().resume();var e=b.getSSECore().createLabels(j.PLAY,c,a);b.getEventManager().newEvent(e)}})}}(),G=function(){return function(){function b(){h=new H(ba),a.getNamespace().comScore?(ca=a.getNamespace().comScore.exports,h.setAppCore(ca.c())):h.setAppCore(null),h.setKeepAlive(new r(h)),h.setHeartbeat(new q(h)),h.setEventManager(new p(h)),h.setStateMachine(new s),h.setPlaylist(new o),_={},n=new y(h),G=new z(h),I=new B(h),J=new C(h),K=new u(h),L=new w(h),M=new x(h),N=new v(h),O=new A(h),P=new D(h),Q=new E(h),R=new F(h),S=new t(h),T=!1,U=0,V=+new Date,W=!0,Y=!1,$=[]}function c(a){var b=h.getStateMachine().getCurrentState();if(b==k.IDLE||b==k.PLAYBACK_NOT_STARTED||b==k.BUFFERING_BEFORE_PLAYBACK||b==k.SEEKING_BEFORE_PLAYBACK){if(a==j.PLAY)return!0}else if(b==k.PLAYING){if(a==j.END||a==j.AD_SKIP||a==j.SEEK_START||a==j.PAUSE)return!0}else if(b==k.PAUSED||b==k.BUFFERING_DURING_PAUSE||b==k.SEEKING_DURING_PLAYBACK||b==k.SEEKING_DURING_BUFFERING||b==k.SEEKING_DURING_PAUSE){if(a==j.END||a==j.AD_SKIP||a==j.PLAY)return!0}else if(b==k.BUFFERING_DURING_PLAYBACK){if(a==j.PAUSE_ON_BUFFERING||a==j.END||a==j.AD_SKIP||a==j.SEEK_START||a==j.PAUSE||a==j.PLAY)return!0}else if(b==k.BUFFERING_DURING_SEEKING){if(a==j.END||a==j.AD_SKIP||a==j.PAUSE||a==j.PLAY)return!0}else if(b==k.PAUSED_DURING_BUFFERING&&(a==j.END||a==j.AD_SKIP||a==j.BUFFER_STOP||a==j.PLAY))return!0;return!1}function e(a,b,d){var e=h.getStateMachine().getCurrentState();a==j.AD_SKIP&&!d.hasOwnProperty("ns_st_ui")&&c(a)?d.ns_st_ui="skip":a==j.SEEK_START&&!d.hasOwnProperty("ns_st_ui")&&c(a)&&(d.ns_st_ui="seek"),e==k.IDLE?a==j.BUFFER?n.onBuffer(b,d):a==j.SEEK_START?n.onSeekStart(b,d):a==j.PLAY&&n.onPlay(b,d):e==k.PLAYBACK_NOT_STARTED?a==j.END||a==j.AD_SKIP?I.onEndOrAdSkip(b,d):a==j.SEEK_START?I.onSeekStart(b,d):a==j.PLAY?I.onPlay(b,d):a==j.BUFFER&&S.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(b,d):e==k.PLAYING?a==j.END||a==j.AD_SKIP?J.onEndOrAdSkip(b,d):a==j.BUFFER?J.onBuffer(b,d):a==j.SEEK_START?J.onSeekStart(b,d):a==j.PAUSE&&J.onPause(b,d):e==k.PAUSED?a==j.END||a==j.AD_SKIP?G.onEndOrAdSkip(b,d):a==j.PLAY?G.onPlay(b,d):a==j.BUFFER?S.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(b,d):a==j.SEEK_START&&S.onSeekStartWhenPausedOrBufferingDuringPause(b,d):e==k.BUFFERING_BEFORE_PLAYBACK?a==j.END||a==j.AD_SKIP?K.onEndOrAdSkip(b,d):a==j.BUFFER_STOP?K.onBufferStop(b,d):a==j.SEEK_START?K.onSeekStart(b,d):a==j.PAUSE?K.onPause(b,d):a==j.PLAY&&K.onPlay(b,d):e==k.BUFFERING_DURING_PLAYBACK?a==j.PAUSE_ON_BUFFERING?L.onPauseOnBuffering(b,d):a==j.BUFFER_STOP?L.onBufferStop(b,d):a==j.END||a==j.AD_SKIP?L.onEndOrAdSkip(b,d):a==j.SEEK_START?L.onSeekStart(b,d):a==j.PAUSE?L.onPause(b,d):a==j.PLAY&&L.onPlay(b,d):e==k.BUFFERING_DURING_SEEKING?a==j.END||a==j.AD_SKIP?M.onEndOrAdSkip(b,d):a==j.PAUSE?M.onPause(b,d):a==j.PLAY?M.onPlay(b,d):a==j.BUFFER_STOP&&S.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(b,d):e==k.BUFFERING_DURING_PAUSE?a==j.END||a==j.AD_SKIP?N.onEndAndSkip(b,d):a==j.PAUSE?N.onPause(b,d):a==j.PLAY?N.onPlay(b,d):a==j.SEEK_START?S.onSeekStartWhenPausedOrBufferingDuringPause(b,d):a==j.BUFFER_STOP&&S.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(b,d):e==k.SEEKING_BEFORE_PLAYBACK?a==j.END||a==j.AD_SKIP?P.onEndOrAdSkip(b,d):a==j.PAUSE?P.onPause(b,d):a==j.PLAY?P.onPlay(b,d):a==j.BUFFER&&S.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(b,d):e==k.SEEKING_DURING_PLAYBACK?a==j.END||a==j.AD_SKIP?R.onEndOrAdSkip(b,d):a==j.PLAY?R.onPlay(b,d):a==j.BUFFER?S.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(b,d):a==j.PAUSE&&S.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(b,d):e==k.SEEKING_DURING_BUFFERING?a==j.PAUSE?Q.onPause(b,d):a==j.BUFFER?S.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(b,d):a==j.PLAY?S.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(b,d):a==j.END||a==j.AD_SKIP?S.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(b,d):a==j.BUFFER_STOP&&S.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(b,d):e==k.PAUSED_DURING_BUFFERING?a==j.END||a==j.AD_SKIP?O.onEndOrAdSkip(b,d):a==j.BUFFER_STOP?O.onBufferStop(b,d):a==j.SEEK_START?O.onSeekStart(b,d):a==j.PAUSE?O.onPause(b,d):a==j.PLAY&&O.onPlay(b,d):e==k.SEEKING_DURING_PAUSE&&(a==j.BUFFER?S.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(b,d):a==j.PLAY?S.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(b,d):a==j.PAUSE?S.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(b,d):a==j.END||a==j.AD_SKIP?S.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(b,d):a==j.BUFFER_STOP&&S.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(b,d)),c(a)&&h.getPlaylist().setFirstEventSent(!0)}function f(b,c){var d=b||"",e="undefined",f=fa.comScore||fa.sitestat||function(b){var c,d,f,g,h,i="comScore=",j=ga.cookie,k="",l="indexOf",n="substring",o="length",p=a.browserAcceptsLargeURLs()?m.URL_LENGTH_LIMIT:m.RESTRICTED_URL_LENGTH_LIMIT,q="&ns_",r="&",s=fa.encodeURIComponent||escape;if(j[l](i)+1)for(g=0,f=j.split(";"),h=f[o];h>g;g++)d=f[g][l](i),d+1&&(k=r+unescape(f[g][n](d+i[o])));b+=q+"_t="+ +new Date+q+"c="+(ga.characterSet||ga.defaultCharset||"")+k,b.length>p&&b.indexOf(r)>0&&(c=b.substr(0,p-8).lastIndexOf(r),b=(b.substring(0,c)+q+"cut="+s(b.substring(c+1))).substr(0,p)),ba.getPlatformAPI().httpGet(b),typeof ns_p===e&&(ns_p={src:b}),ns_p.lastMeasurement=b};if(typeof c!==e){var g=[],h=fa.encodeURIComponent||escape;for(var i in c)c.hasOwnProperty(i)&&g.push(h(i)+"="+h(c[i]));/[\?\&]$/.test(d)||(d+="&"),d+=g.join("&")}return f(d)}function g(b,c){for(var d,e=fa.encodeURIComponent||escape,f=[],g=m.LABELS_ORDER,h=b.split("?"),i=h[0],j=h[1],k=j.split("&"),l=0,n=k.length;n>l;l++){var o=k[l].split("="),p=unescape(o[0]),q=unescape(o[1]);p&&(c[p]=q)}for(var r={},s=0,t=g.length;t>s;s++){var u=g[s];if(c.hasOwnProperty(u)){var v=c[u];"undefined"!=typeof v&&null!=v&&(r[u]=!0,f.push(e(u)+"="+e(c[u])))}}for(var w in c)if(c.hasOwnProperty(w)){if(r[w])continue;var x=c[w];"undefined"!=typeof x&&null!=x&&f.push(e(w)+"="+e(c[w]))}d=i+"?"+f.join("&"),d=d+(d.indexOf("&c8=")<0?"&c8="+e(ga.title):"")+(d.indexOf("&c7=")<0?"&c7="+e(ga.URL):"")+(d.indexOf("&c9=")<0?"&c9="+e(ga.referrer):"");var y=a.browserAcceptsLargeURLs()?m.URL_LENGTH_LIMIT:m.RESTRICTED_URL_LENGTH_LIMIT;if(d.length>y&&d.indexOf("&")>0){var z=d.substr(0,y-8).lastIndexOf("&");d=(d.substring(0,z)+"&ns_cut="+e(d.substring(z+1))).substr(0,y)}return d}var h,n,G,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba=this,ca={},da=m.DEFAULT_PAUSED_ON_BUFFERING_INTERVAL,ea=m.THROTTLING_DELAY;a.extend(ba,{createLabels:function(b,c,d){var e={};if("undefined"!=typeof document){var f=document;e.c7=f.URL,e.c8=f.title,e.c9=f.referrer}return null!=c&&a.extend(e,c),e.ns_ts=null!=e.ns_ts?e.ns_ts:+new Date+"",e.ns_st_ev=null!=e.ns_st_ev?e.ns_st_ev:j.toString(b),e.ns_st_mp=null!=e.ns_st_mp?e.ns_st_mp:m.DEFAULT_PLAYERNAME,e.ns_st_mv=null!=e.ns_st_mv?e.ns_st_mv:m.STREAMSENSE_VERSION,e.ns_st_ub=null!=e.ns_st_ub?e.ns_st_ub:"0",e.ns_st_br=null!=e.ns_st_br?e.ns_st_br:"0",e.ns_st_pn=null!=e.ns_st_pn?e.ns_st_pn:"1",e.ns_st_tp=null!=e.ns_st_tp?e.ns_st_tp:"1",e.ns_st_it=null!=e.ns_st_it?e.ns_st_it:l.toString(l.SINGLE_CLIP),e.ns_st_sv=null!=e.ns_st_sv?e.ns_st_sv:m.STREAMSENSE_VERSION,e.ns_st_smv=null!=e.ns_st_smv?e.ns_st_smv:m.MODEL_VERSION,e.ns_type=null!=e.ns_type?e.ns_type:"hidden",e.ns_st_ec=null!=e.ns_st_ec?e.ns_st_ec:h.getEventManager().getEventCounter()+"",e.ns_st_po=null!=e.ns_st_po?e.ns_st_po:h.getPlaylist().getPlaylist().getClip().getExpectedPlaybackPosition(d)+"",e.ns_st_ki=null!=e.ns_st_ki?e.ns_st_ki:h.getKeepAlive().getInterval()+"",h.getPlaylist().createLabels(e),h.getPlaylist().getClip().createLabels(e),a.extend(e,ba.getLabels()),a.extend(e,c),{eventType:b,eventLabels:e}},newEvent:function(a,b,c,d){ba.stopDelayedTransitionTimer();var f=h.getStateMachine().getCurrentState(),g=h.getStateMachine().eventTypeToState(a);if(null!=g&&g!=f)if(!ba.isThrottlingEnabled()||f!=k.PLAYING&&f!=k.PAUSED||g!=k.PLAYING&&g!=k.PAUSED||d){c.ns_st_po||(h.getStateMachine().getCurrentState()==k.PLAYING&&a==j.BUFFER||h.getStateMachine().getCurrentState()==k.BUFFERING_DURING_PLAYBACK&&a==j.BUFFER_STOP?c.ns_st_po=h.getPlaylist().getClip().getPlaybackTimeOffset()+(b-h.getPlaylist().getClip().getPlaybackTimestamp())+"":c.ns_st_po=h.getPlaylist().getClip().getExpectedPlaybackPosition(b)+""),e(a,b,c);var i=0;isNaN(h.getStateMachine().getLastStateChangeTimestamp())||(i=b-h.getStateMachine().getLastStateChangeTimestamp()),h.getStateMachine().newEvent(a,b);for(var l=0,m=$.length;m>l;l++)$[l](f,g,c,i)}else Z=h.getPlatformAPI().setTimeout(function(a,c,d){return function(){ba.newEvent(a,b,d,!0)}}(a,g,c),ea)},newPseudoEvent:function(a,b,c){if(a!=j.LOAD&&a!=j.START||h.getStateMachine().getCurrentState()==k.IDLE){a!=j.ERROR||c.ns_st_er||(c.ns_st_er=d.UNKNOWN_VALUE),h.getStateMachine().getCurrentState()!=k.IDLE&&h.getStateMachine().getCurrentState()!=k.PLAYBACK_NOT_STARTED&&h.getStateMachine().getCurrentState()!=k.SEEKING_BEFORE_PLAYBACK&&h.getStateMachine().getCurrentState()!=k.BUFFERING_BEFORE_PLAYBACK&&(h.getPlaylist().getClip().addElapsedTime(b),h.getPlaylist().getClip().setElapsedTimestamp(b));var e,f,g,i=!0,l=!1;switch(a){case j.BIT_RATE:e="ns_st_br",f="ns_st_pbr",l=!0;break;case j.PLAYBACK_RATE:e="ns_st_rt",f="ns_st_prt",l=!0;break;case j.VOLUME:e="ns_st_vo",f="ns_st_pvo",l=!0;break;case j.WINDOW_STATE:e="ns_st_ws",f="ns_st_pws",l=!0;break;case j.AUDIO:e="ns_st_at",f="ns_st_pat",l=!1;break;case j.VIDEO:e="ns_st_vt",f="ns_st_pvt",l=!1;break;case j.SUBS:e="ns_st_tt",f="ns_st_ptt",l=!1;break;case j.CDN:e="ns_st_cdn",f="ns_st_pcdn",l=!1;break;default:i=!1}if(i&&c.hasOwnProperty(e)&&(l?(ba.getLabels().hasOwnProperty(e)&&(g=ba.getLabels()[e],c[f]=g),ba.setLabel(e,c[e])):(h.getPlaylist().getClip().getLabels().hasOwnProperty(e)&&(g=h.getPlaylist().getClip().getLabels()[e],c[f]=g),h.getPlaylist().getClip().setLabel(e,c[e]))),!i||h.getStateMachine().getCurrentState()==k.PLAYING||h.getStateMachine().getCurrentState()==k.BUFFERING_DURING_PLAYBACK){c.ns_st_po||(c.ns_st_po=h.getPlaylist().getClip().getExpectedPlaybackPosition(b)+""),h.getStateMachine().getCurrentState()!=k.PLAYING&&h.getStateMachine().getCurrentState()!=k.BUFFERING_DURING_PLAYBACK||(h.getPlaylist().addPlaybackTime(b),h.getPlaylist().setPlaybackTimestamp(b),h.getPlaylist().getClip().addPlaybackTime(b),h.getPlaylist().getClip().setPlaybackTimestamp(b),h.getPlaylist().getClip().addInterval(parseInt(c.ns_st_po)),h.getPlaylist().getClip().setPlaybackStartPosition(parseInt(c.ns_st_po))),h.getStateMachine().getCurrentState()!=k.BUFFERING_BEFORE_PLAYBACK&&h.getStateMachine().getCurrentState()!=k.BUFFERING_DURING_PAUSE&&h.getStateMachine().getCurrentState()!=k.BUFFERING_DURING_PLAYBACK&&h.getStateMachine().getCurrentState()!=k.BUFFERING_DURING_SEEKING||(h.getPlaylist().addBufferingTime(b),h.getPlaylist().setBufferingTimestamp(b),h.getPlaylist().getClip().addBufferingTime(b),h.getPlaylist().getClip().setBufferingTimestamp(b));var m=ba.createLabels(a,c,b);h.getEventManager().newEvent(m)}}},getState:function(){return h.getStateMachine().getCurrentState()},addListener:function(a){$.push(a)},removeListener:function(b){$.splice(a.indexOf(b,$),1)},getLabel:function(a){return _[a]},getLabels:function(){return _},setLabel:function(a,b){null==b?delete _[a]:_[a]=b},setLabels:function(a){for(var b in a)a.hasOwnProperty(b)&&ba.setLabel(b,a[b])},getPlatformAPI:function(){return h.getAppCore()?h.getAppCore().getPlatformAPI():i},getExports:function(){return ca},isProperlyInitialized:function(){var a=h.getAppCore().getAppContext(),b=h.getAppCore().getSalt(),c=h.getAppCore().getPixelURL();return a&&c&&b},setImplementationType:function(a){h.getStateMachine().getCurrentState()!=k.IDLE||a!=l.SINGLE_CLIP&&a!=l.SEGMENTED&&a!=l.REDUCED||h.getPlaylist().setLabel("ns_st_it",l.toString(a))},setThrottlingDelay:function(a){ea=a},getThrottlingDelay:function(){return ea},isThrottlingEnabled:function(){return Y},setThrottlingEnabled:function(a){Y=a},isLoadingTimeSent:function(){return T},setLoadingTimeSent:function(a){T=a},getLoadTimeOffset:function(){return U},setLoadTimeOffset:function(a){U=a},getInitTimestamp:function(){return V},setPauseOnBufferingInterval:function(a){da=a},getPauseOnBufferingInterval:function(){return da},isPauseOnBufferingEnabled:function(){return W},setPauseOnBufferingEnabled:function(a){W=a},startPausedOnBufferingTimer:function(b,c){ba.stopPausedOnBufferingTimer(),X=ba.getPlatformAPI().setTimeout(function(){var d={},e=a.fixEventTime(d),f=parseInt(c.ns_st_po);d.ns_st_po=f+e-b+"",ba.newEvent(j.PAUSE_ON_BUFFERING,e,d)},da)},stopPausedOnBufferingTimer:function(){null!=X&&(ba.getPlatformAPI().clearTimeout(X),X=null)},stopDelayedTransitionTimer:function(){Z&&(ba.getPlatformAPI().clearTimeout(Z),Z=null)},setPixelURL:function(a){if(null==a||0==a.length)return null;var b=decodeURIComponent||unescape,c=a.indexOf("?");if(c>=0){if(c<a.length-1){for(var d=a.substring(c+1).split("&"),e=0,f=d.length;f>e;e++){var g=d[e],h=g.split("=");2==h.length?ba.setLabel(h[0],b(h[1])):1==h.length&&ba.setLabel(m.PAGE_NAME_LABEL,b(h[0]))}a=a.substring(0,c+1)}}else a+="?";return aa=a},getPixelURL:function(){return aa?aa:"undefined"!=typeof ns_p&&"string"==typeof ns_p.src?aa=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?aa=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null},getSseSM:function(){return h},resetPlaylist:function(a){var b=h.getPlaylist();h.setPlaylist(new o),o.resetPlaylist(b,h.getPlaylist(),a)},resetHeartbeat:function(){h.getHeartbeat().pause();var a=h.getHeartbeat().getIntervals();h.setHeartbeat(new q(h)),h.getHeartbeat().setIntervals(a)},resetKeepAlive:function(){h.getKeepAlive().pause();var a=h.getKeepAlive().getInterval();h.setKeepAlive(new r(h)),h.getKeepAlive().setInterval(a)}});var fa,ga;a.isBrowser()?(fa=window,ga=document):(fa={},ga={location:{href:""},title:"",URL:"",referrer:"",cookie:""}),a.extend(ba,{prepareUrl:g,viewNotify:f}),b()}}(),H=function(){return function(b){var c,d,e,f,g,h,i=this;a.extend(i,{getAppCore:function(){return c},getSSECore:function(){return b},getEventManager:function(){return d},getStateMachine:function(){return e},getHeartbeat:function(){return f},getKeepAlive:function(){return g},getPlaylist:function(){return h},setAppCore:function(a){c=a},setKeepAlive:function(a){g=a},setHeartbeat:function(a){f=a},setEventManager:function(a){d=a},setStateMachine:function(a){e=a},setPlaylist:function(a){h=a}})}}(),I=function(){return function(b,c){function d(){h=new G,g=!0,b&&i.setLabels(b),c&&i.setPixelURL(c)}function e(a,b){i.notify(j.CUSTOM,a,b)}function f(){g&&h.getSseSM().getStateMachine().getCurrentState()!=k.IDLE&&i.end()}var g,h,i=this,l=m.STANDARD_METADATA_LABELS;a.extend(this,{isProperlyInitialized:function(){return h.isProperlyInitialized()},reset:function(a){var b=h;b.getSseSM().getKeepAlive().pause(),b.getSseSM().getHeartbeat().pause(),h=new G,o.resetPlaylist(b.getSseSM().getPlaylist(),h.getSseSM().getPlaylist(),a)},setPauseOnBufferingInterval:function(a){h.setPauseOnBufferingInterval(a)},getPauseOnBufferingInterval:function(){return h.getPauseOnBufferingInterval()},setKeepAliveInterval:function(a){h.getSseSM().getKeepAlive().setInterval(a)},getKeepAliveInterval:function(){return h.getSseSM().getKeepAlive().getInterval()},setHeartbeatIntervals:function(a){h.getSseSM().getHeartbeat().setIntervals(a)},play:function(a,b){i.notify(j.PLAY,a,b)},pause:function(a,b){i.notify(j.PAUSE,a,b)},end:function(a,b){i.notify(j.END,a,b)},bufferStart:function(a,b){i.notify(j.BUFFER,a,b)},bufferStop:function(a,b){i.notify(j.BUFFER_STOP,a,b)},load:function(a,b){i.notify(j.LOAD,a,b)},start:function(a,b){i.notify(j.START,a,b)},seekStart:function(a,b){i.notify(j.SEEK_START,a,b)},skipAd:function(a,b){i.notify(j.AD_SKIP,a,b)},callToAction:function(a,b){i.notify(j.CTA,a,b)},error:function(a,b){i.notify(j.ERROR,a,b)},transferPlayback:function(a,b){i.notify(j.TRANSFER,a,b)},drmFail:function(a,b){i.notify(j.DRM_FAILED,a,b)},drmApprove:function(a,b){i.notify(j.DRM_APPROVED,a,b)},drmDeny:function(a,b){i.notify(j.DRM_DENIED,a,b)},changeBitrate:function(a,b,c){if(null!=a){var d=c||{};d.ns_st_br=a+"",i.notify(j.BIT_RATE,d,b)}},changePlaybackRate:function(a,b,c){if(null!=a){var d=c||{};d.ns_st_rt=a+"",i.notify(j.PLAYBACK_RATE,d,b)}},changeVolume:function(a,b,c){if(null!=a){var d=c||{};d.ns_st_vo=a+"",i.notify(j.VOLUME,d,b)}},changeWindowState:function(a,b,c){if(null!=a){var d=c||{};d.ns_st_ws=a+"",i.notify(j.WINDOW_STATE,d,b)}},changeAudio:function(a,b,c){if(null!=a){var d=c||{};d.ns_st_at=a+"",i.notify(j.AUDIO,d,b)}},changeVideo:function(a,b,c){if(null!=a){var d=c||{};d.ns_st_vt=a+"",i.notify(j.VIDEO,d,b)}},changeSubtitle:function(a,b,c){if(null!=a){var d=c||{};d.ns_st_tt=a+"",i.notify(j.SUBS,d,b)}},changeCDN:function(a,b,c){if(null!=a){var d=c||{};d.ns_st_cdn=a+"",i.notify(j.CDN,d,b)}},notify:function(b){var c,d;if(c="object"==typeof arguments[1]?arguments[1]:"object"==typeof arguments[2]?arguments[2]:{},d="number"==typeof arguments[1]?arguments[1]:"number"==typeof arguments[2]?arguments[2]:NaN,j.toString(b)){c=a.jsonObjectToStringDictionary(c);var e=a.fixEventTime(c);c.ns_st_po||isNaN(d)||(c.ns_st_po=a.getInteger(d,0)+""),c.ns_st_po&&h.getSseSM().getPlaylist().getClip().setPlaybackTimeOffset(parseInt(c.ns_st_po)),b==j.PLAY||b==j.PAUSE||b==j.BUFFER||b==j.END||b==j.SEEK_START||b==j.AD_SKIP||b==j.BUFFER_STOP?h.newEvent(b,e,c):h.newPseudoEvent(b,e,c)}},getLabels:function(){return h.getLabels()},getState:function(){return h.getSseSM().getStateMachine().getCurrentState()},setLabels:function(a){h.setLabels(a)},getLabel:function(a){return h.getLabel(a)},setLabel:function(a,b){h.setLabel(a,b)},getLoadTimeOffset:function(){return h.getLoadTimeOffset()},setLoadTimeOffset:function(a){h.setLoadTimeOffset(a)},setPixelURL:function(a){return h.setPixelURL(a)},getPixelURL:function(){return h.getPixelURL()},setImplementationType:function(a){h.setImplementationType(a)},isPauseOnBufferingEnabled:function(){return h.isPauseOnBufferingEnabled()},setPauseOnBufferingEnabled:function(a){h.setPauseOnBufferingEnabled(a)},isThrottlingEnabled:function(){return h.isThrottlingEnabled()},setThrottlingEnabled:function(a){h.setThrottlingEnabled(a)},setThrottlingDelay:function(a){h.setThrottlingDelay(a)},getThrottlingDelay:function(){return h.getThrottlingDelay()},setPlaybackIntervalMergeTolerance:function(a){h.getSseSM().getPlaylist().getClip().setPlaybackIntervalMergeTolerance(a)},getPlaybackIntervalMergeTolerance:function(){return h.getSseSM().getPlaylist().getClip().getPlaybackIntervalMergeTolerance()},setClip:function(b,c,d){if(void 0===d&&(d=!0),b=a.jsonObjectToStringDictionary(b),d&&h.getSseSM().getStateMachine().getCurrentState()!==k.IDLE&&i.end(),h.getSseSM().getStateMachine().getCurrentState()==k.IDLE){var e="",f=0;if(null!=b.ns_st_cn)e=b.ns_st_cn;else for(var g=0;g<l.length;g++)b[l[g]]&&(e+=l[g]+":"+b[l[g]]+";");var j=h.getSseSM().getPlaylist(),m=j.getClip();m.isClipStarted()?(j.hashExists(m.getHash())||(j.storeHash(m.getHash()),j.storeClipNumber(m.getHash(),m.getClipNumber())),j.storeClipPlaybackCounters(),f=j.hashExists(e)?j.getClipNumber(e):a.exists(b.ns_st_cn)?parseInt(b.ns_st_cn):j.getMaxClipNumber()+1):f=j.hashExists(e)?j.getClipNumber(e):m.getClipNumber(),j.resetClip(),m=j.getClip(),m.setHash(e),m.setClipNumber(f),m.setLabels(b);var n=j.getStoredClipRegisters(e);return n&&(m.setClipStarted(!0),m.setSegmentPlaybackCounter(n.segmentPlaybackCounter),m.setClipLoadCounter(n.clipLoadCounter),m.setAssetPlaybackCounter(n.assetPlaybackCounter),m.setLowestPartNumberPlayed(n.lowestPartNumberPlayed),m.setSeeking(n.seeking),m.setSeekingTimeBeforeEnd(n.seekingTimeBeforeEnd),m.setSeekStartPosition(n.seekingStartPosition),m.setClipPlaybackIntervals(n.clipPlaybackIntervals),m.setUniquePlaybackInterval(n.uniquePlaybackInterval),m.setLongestPlaybackInterval(n.longestPlaybackInterval),m.setVideoTrack(n.videoTrack),m.setAudioTrack(n.audioTrack),m.setSubtitleTrack(n.subtitleTrack),m.setCDN(n.cdn),m.setPreviousUniquePlaybackInterval(n.uniquePlaybackInterval),m.setPreviousEventIndependentUniquePlaybackInterval(n.uniquePlaybackInterval),m.setPreviousLongestPlaybackInterval(n.longestPlaybackInterval)),m.incrementClipLoadCounter(),m.isClipStarted()&&c&&(j.incrementPlayCounter(),j.incrementPlaybackCounter()),!0}return!1},setPlaylist:function(b,c){return void 0===c&&(c=!0),b=a.jsonObjectToStringDictionary(b),c&&h.getSseSM().getStateMachine().getCurrentState()!==k.IDLE&&i.end(),h.getSseSM().getStateMachine().getCurrentState()==k.IDLE?(h.getSseSM().getPlaylist().isPlaylistStarted()&&h.resetPlaylist(),h.getSseSM().getPlaylist().setLabels(b),!0):!1},importState:function(){},exportState:function(){return{}},getVersion:function(){return m.STREAMSENSE_VERSION},addListener:function(a){h.addListener(a)},removeListener:function(a){h.removeListener(a)},getClip:function(){return console&&console.warn&&console.warn("getClip() is deprecated. Use getPlaylist().getClip() instead."),h.getSseSM().getPlaylist().getClip()},getPlaylist:function(){return h.getSseSM().getPlaylist()},setHttpGet:function(a){"function"==typeof a&&(h.getPlatformAPI().httpGet=a)},setHttpPost:function(a){"function"==typeof a&&(h.getPlatformAPI().httpPost=a)},setExitEndEventEnabled:function(a){g=a},isExitEndEventEnabled:function(){return g},getPlatformAPI:function(){return h.getPlatformAPI()}}),a.extend(i,{customNotify:e,viewNotify:function(a,b){a=a||i.getPixelURL(),a&&h.viewNotify(a,b)}}),a.isBrowser()&&(window.addEventListener?(window.addEventListener("beforeunload",f),window.addEventListener("unload",f)):window.attachEvent&&(window.attachEvent("onbeforeunload",f),window.attachEvent("onunload",f))),d()}}();!function(b){function c(a,b){return w[y]||e(a,b)}function d(){y=-1;for(var a=0;x>=a;a++)if(w.hasOwnProperty(a+"")){y=a;break}return ns_.StreamSense.activeIndex=y,y}function e(a,b){return a=a||null,b=b||null,a&&"object"==typeof a&&(b=a,a=null),w[++x]=new ns_.StreamSense(b,a),d(),w[x]}function f(){var a=!1,b=y;if("number"==typeof arguments[0]&&isFinite(arguments[0]))b=arguments[0];else if(arguments[0]instanceof ns_.StreamSense)for(var c in w)if(w.hasOwnProperty(c)&&w[c]===arguments[0]){b=c;break}return w.hasOwnProperty(b+"")&&(a=w[b],delete w[b],a.reset(),d()),a}function g(a){return a=a||{},c().setPlaylist(a),c().getPlaylist()}function h(a,b,d){return a=a||{},"number"==typeof b&&(a.ns_st_cn=b+""),c().setClip(a,d),c().getClip()}function i(a,b,d){return"undefined"==typeof a?!1:(d=d||null,b=b||{},c().notify(a,b,d))}function j(a){"undefined"!=typeof a&&c().setLabels(a)}function k(){return c().getLabels()}function l(a){"undefined"!=typeof a&&c().getPlaylist().setLabels(a)}function m(){return c().getPlaylist().getLabels()}function n(a){"undefined"!=typeof a&&c().getClip().setLabels(a)}function o(){return c().getClip().getLabels()}function p(a){return c().reset(a||{})}function q(a){return c().getPlaylist().reset(a||{})}function r(a){return c().getClip().reset(a||{})}function s(a){return a=a||{},c().viewNotify(null,a)}function t(a,b){return arguments.length>2&&(a=arguments[1],b=arguments[2]),a=a||{},"number"==typeof b&&(a.ns_st_po=b+""),c().customNotify(a,b)}function u(){return c().exportState()}function v(a){c().importState(a)}var w={},x=-1,y=-1;a.extend(b,{activeIndex:y,newInstance:e,"new":e,destroyInstance:f,destroy:f,newPlaylist:g,newClip:h,notify:i,setLabels:j,getLabels:k,setPlaylistLabels:l,getPlaylistLabels:m,setClipLabels:n,getClipLabels:o,resetInstance:p,resetPlaylist:q,resetClip:r,viewEvent:s,customEvent:t,exportState:u,importState:v})}(I),I.PlayerEvents=j,I.InternalStates=k,I.ImplementationType=l;var J,K,L=function(){var b=function(b,c,d,e,f){function g(){Ga=new ns_.StreamSense({ns_st_mp:c,ns_st_pv:d,ns_st_mv:e}),a.extend(va,Ga),a.extend(va,{play:G,pause:H,end:I,bufferStart:J,bufferStop:K,load:L,start:M,seekStart:N,skipAd:O,callToAction:P,error:Q,transferPlayback:R,drmFail:S,drmApprove:T,drmDeny:U,changeBitrate:V,changePlaybackRate:W,changeVolume:X,changeWindowState:Y,changeAudio:Z,changeVideo:$,changeSubtitle:_,changeCDN:aa,notify:ba,setPlaylist:ga,setClip:fa,setLabel:ha,setLabels:ia,setClipLabel:ja,setPlaylistLabel:ka,onGetLabels:F,labelMapping:Ka,release:h,log:ra,handleSettings:na,getGenericPluginVersion:i,setDuration:E,setVideoSize:D,setDetectSeek:C,setDetectPause:B,setDetectPlay:A,setDetectEnd:z,setSmartStateDetection:y,setPauseDetectionErrorMargin:s,setEndDetectionErrorMargin:t,setSeekDetectionMinQuotient:u,setPulseSamplingInterval:v,setMaximumNumberOfEntriesInHistory:w,setMinimumNumberOfTimeUpdateEventsBeforeDetectingSeek:x}),b&&na(b),f.init&&f.init.call(va,null),Qa&&l()}function h(){f.release&&f.release.call(va),Ga.reset(),Ga=null,Ha=[],sa=void 0,Ia=-1,ta=xa,Ja=-1}function i(){return wa}function l(){n(),Sa=[],Ta=[],ua=a.hasPageVisibilityAPISupport&&a.isTabInBackground()?setInterval(o,Ea):setInterval(o,Da),q()}function n(){"undefined"!=typeof ua&&(clearInterval(ua),ua=void 0)}function o(){if(!Qa)return void n();if(Va)return void(Va=!1);var a=f.position&&f.position.call(va,null)||0,b=Ga.getState(),c=!1;if(0===Sa.length||a!==Sa[Sa.length-1]){if(Sa.push(Math.abs(a)),Ta.push(+new Date),Sa.length>1&&Sa[Sa.length-1]<Sa[Sa.length-2]){var d=Sa[Sa.length-1],e=Ta[Ta.length-1];Sa=[],Ta=[],Sa[0]=d,Ta[0]=e,Ma&&(c=!0)}else if(Sa.length<Ca)return;Sa.length>Fa&&(Sa=Sa.slice(1,Fa+1),Ta=Ta.slice(1,Fa+1)),Ma&&!c&&(c=p())}else Ta[Ta.length-1]=Date.now();var g=Ga.getState();switch(g){case k.IDLE:case k.PAUSED:case k.PLAYBACK_NOT_STARTED:case k.BUFFERING_BEFORE_PLAYBACK:case k.BUFFERING_DURING_PLAYBACK:case k.BUFFERING_DURING_SEEKING:case k.BUFFERING_DURING_PAUSE:case k.PAUSED_DURING_BUFFERING:case k.SEEKING_BEFORE_PLAYBACK:case k.SEEKING_DURING_PLAYBACK:case k.SEEKING_DURING_BUFFERING:case k.SEEKING_DURING_PAUSE:if(Oa&&a>Ra&&!c&&!r(a)){if(f.preMeasurement&&!f.preMeasurement.call(va,g,ns_.StreamSense.PlayerEvents.PLAY))break;va.play(Sa[0]),Ua=!1;break}Ma&&c&&g!=k.SEEKING_BEFORE_PLAYBACK&&g!=k.SEEKING_DURING_PLAYBACK&&g!=k.SEEKING_DURING_BUFFERING&&g!=k.SEEKING_DURING_PAUSE&&va.seekStart(Sa[0]);break;case k.PLAYING:if(Ma&&c){if(f.preMeasurement&&!f.preMeasurement.call(va,g,ns_.StreamSense.PlayerEvents.PAUSE))break;va.seekStart(Ra)}else if(Pa&&r(a)){if(f.preMeasurement&&!f.preMeasurement.call(va,g,ns_.StreamSense.PlayerEvents.END))break;var h=parseInt(Ga.getPlaylist().getClip().getLabel("ns_st_cl"));!isNaN(h)&&h>0?va.end(h):va.end(a)}else if(Na&&Math.abs(a-Ra)<=ya){if(f.preMeasurement&&!f.preMeasurement.call(va,g,ns_.StreamSense.PlayerEvents.PAUSE))break;va.pause(Ra)}}b!==Ga.getState()&&(f.postMeasurement&&f.postMeasurement.call(va,Ga.getState()),Ga.getState()!=k.PLAYING&&(Sa=[],Ta=[])),Ra=a}function p(){if(Sa[Sa.length-1]<Sa[Sa.length-2])return!0;var b=Da;a.hasPageVisibilityAPISupport()&&a.isTabInBackground()&&(b=Ea);for(var c=0,d=0;d<Sa.length;d++)c=(parseFloat(c)+Aa[Sa.length-2][d]*Sa[d]).toFixed(5);return c=parseFloat(c),c/b>Ba}function q(){if("undefined"!=typeof document&&document.addEventListener&&a.hasPageVisibilityAPISupport()&&!ab){ab=!0;var b=a.getPageVisibilityAPI();document.addEventListener(b.visibilityChange,function(){l()},!1)}}function r(a){var b=parseInt(Ga.getPlaylist().getClip().getLabel("ns_st_cl"));return!isNaN(b)&&b>0&&(a>b||Math.abs(a-b)<za)}function s(a){a&&(ya=a)}function t(a){a&&(za=a)}function u(a){a&&a>1&&(Ba=a)}function v(a){"number"==typeof a&&a>0&&(Da=a)}function w(a){a&&13>=a&&a>=2&&(Fa=a)}function x(a){a&&a>=2&&13>=a&&(Ca=a)}function y(a){Qa=a||!1,Qa?l():n()}function z(a){Pa=a||!1}function A(a){Oa=a||!1}function B(a){Na=a||!1}function C(a){Ma=a||!1}function D(a){Ga.getPlaylist().getClip().setLabel("ns_st_cs",a?a:0)}function E(a){Ga.getPlaylist().getClip().setLabel("ns_st_cl",a&&a>=0?a:0)}function F(a){"function"==typeof a&&Ha.push(a)}function G(){if(!$a&&!_a){var a=ea(j.PLAY,ca(arguments),da(arguments));Wa=!0,Ga.play(ca(arguments),a)}}function H(){if(!$a&&!_a){var a=ea(j.PAUSE,ca(arguments),da(arguments));Ga.pause(ca(arguments),a)}}function I(){if(!$a&&!_a){var a=ea(j.END,ca(arguments),da(arguments));Qa&&(Sa=[],Ta=[],Ua=!0,Va=!0),Ga.end(ca(arguments),a)}}function J(){if(!$a&&!_a){var a=ea(j.BUFFER,ca(arguments),da(arguments));Ga.bufferStart(ca(arguments),a)}}function K(){if(!$a&&!_a){var a=ea(j.BUFFER_STOP,ca(arguments),da(arguments));Ga.bufferStop(ca(arguments),a)}}function L(){if(!$a&&!_a){var a=ea(j.LOAD,ca(arguments),da(arguments));Ga.load(ca(arguments),a)}}function M(){if(!$a&&!_a){var a=ea(j.START,ca(arguments),da(arguments));Ga.start(ca(arguments),a)}}function N(){if(!$a&&!_a){var a=ea(j.SEEK_START,ca(arguments),da(arguments));Ga.seekStart(ca(arguments),a)}}function O(){if(!$a&&!_a){var a=ea(j.AD_SKIP,ca(arguments),da(arguments));Ga.skipAd(ca(arguments),a)}}function P(){if(!$a&&!_a){var a=ea(j.CTA,ca(arguments),da(arguments));Ga.callToAction(ca(arguments),a)}}function Q(){if(!$a&&!_a){var a=ea(j.ERROR,ca(arguments),da(arguments));Ga.error(ca(arguments),a)}}function R(){if(!$a&&!_a){var a=ea(j.TRANSFER,ca(arguments),da(arguments));Ga.transferPlayback(ca(arguments),a)}}function S(){if(!$a&&!_a){var a=ea(j.DRM_FAILED,ca(arguments),da(arguments));Ga.drmFail(ca(arguments),a)}}function T(){if(!$a&&!_a){var a=ea(j.DRM_APPROVED,ca(arguments),da(arguments));Ga.drmApprove(ca(arguments),a)}}function U(){if(!$a&&!_a){var a=ea(j.DRM_DENIED,ca(arguments),da(arguments));Ga.drmDeny(ca(arguments),a)}}function V(a,b,c){if(!$a&&!_a){var d=[b,c],e=ea(j.BIT_RATE,ca(d),da(d));Ga.changeBitrate(a,e,ca(d))}}function W(a,b,c){if(!$a&&!_a){var d=[b,c],e=ea(j.PLAYBACK_RATE,ca(d),da(d));Ga.changePlaybackRate(a,e,ca(d))}}function X(a,b,c){if(!$a&&!_a){var d=[b,c],e=ea(j.VOLUME,ca(d),da(d));Ga.changeVolume(a,e,ca(d))}}function Y(a,b,c){if(!$a&&!_a){var d=[b,c],e=ea(j.WINDOW_STATE,ca(d),da(d));Ga.changeWindowState(a,e,ca(d))}}function Z(a,b,c){if(!$a&&!_a){
var d=[b,c],e=ea(j.AUDIO,ca(d),da(d));Ga.changeAudio(a,e,ca(d))}}function $(a,b,c){if(!$a&&!_a){var d=[b,c],e=ea(j.VIDEO,ca(d),da(d));Ga.changeVideo(a,e,ca(d))}}function _(a,b,c){if(!$a&&!_a){var d=[b,c],e=ea(j.SUBS,ca(d),da(d));Ga.changeSubtitle(a,e,ca(d))}}function aa(a,b,c){if(!$a&&!_a){var d=[b,c],e=ea(j.CDN,ca(d),da(d));Ga.changeCDN(a,e,ca(d))}}function ba(a,b,c){if(!$a&&!_a){var d=[];b&&d.push(b),c&&d.push(c);var e=ea(a,ca(d),da(d));Ga.notify(a,ca(d),e)}}function ca(a){var b;return b="object"==typeof a[0]?a[0]:"object"==typeof a[1]?a[1]:{}}function da(a){var b;return b="number"==typeof a[0]?a[0]:"number"==typeof a[1]?a[1]:NaN}function ea(a,b,c){for(var d=0,e=Ha.length;e>d;d++)Ha[d](a,b);var g=NaN;return"number"!=typeof c||isNaN(c)?f.position&&(g=f.position.call(va,a,b,c)):g=c,g}function fa(b,c,d,e){var f=m.STANDARD_METADATA_LABELS,g="";if(b)for(var h=0;h<f.length;h++)b[f[h]]&&(g+=f[h]+":"+b[f[h]]+";");Wa&&b&&g!==Ga.getPlaylist().getClip().getHash()&&(va.end(),Wa=!1);var i=d||[];pa(a.cloneObject(i),b),qa(a.cloneObject(i),b);var j;for(var k in b)b.hasOwnProperty(k)&&(j=k.match(/^data-(.+)/))&&(b[j[1]]=b[k],delete b[k]);return e&&1==e?a.extend(b,Ya):(Ya={},a.extend(Ya,b)),$a=!!(b&&b.hasOwnProperty("ns_st_skip")&&b.ns_st_skip),Ga.setClip(b,c)}function ga(b,c){return c&&1==c?a.extend(b,Xa):(Xa={},a.extend(Xa,b)),_a=!!(b&&b.hasOwnProperty("ns_st_skip")&&b.ns_st_skip),Ga.setPlaylist(b)}function ha(a,b,c){var d={};return d[a]=b,ia(d,c)}function ia(b,c){return c&&1==c?a.extend(b,Za):a.extend(Za,b),Ga.setLabels(b)}function ja(a,b,c){c&&1==c?Ya.hasOwnProperty(a)||Za.hasOwnProperty(a)||va.getClip().setLabel(a,b):(Ya[a]=b,va.getClip().setLabel(a,b))}function ka(a,b,c){c&&1==c?Xa.hasOwnProperty(a)||Za.hasOwnProperty(a)||va.getPlaylist().setLabel(a,b):(Xa[a]=b,va.getPlaylist().setLabel(a,b))}function la(a){if(a){var b=/([^=, ]+)\s*=(\s*("([^"]+?)"|[a-z0-9\._-]+)\s*\+?)+\s*/gi,c=a.match(b);for(var d in c)if(c.hasOwnProperty(d)){var e=c[d].split("=",2);if(2==e.length){var f=e[0].replace(/(^\s+|\s+$)/g,"");""!=f&&(Ka[f]=e[1])}}}}function ma(a){if(a){var b=a.split(",");for(var c in b)if(b.hasOwnProperty(c)){var d=b[c].split("=",2);if(2==d.length){var e=d[0].replace(/(^\s+|\s+$)/g,"");""!=e&&(Ga.setLabel(e,d[1]),Za[e]=d[1])}}}}function na(b){var c=Ga.getPixelURL();if(b.logurl)c=b.logurl;else if(b.c2||b.publisherId){var d=b.c2||b.publisherId,e="https://sb";(void 0===b.secure||b.secure)&&va.getPlatformAPI().isConnSecure()||(e="http://b"),c=e+".scorecardresearch.com/p?c1=2",Ga.setLabel("c2",d)}if(c&&Ga.setPixelURL(c),a.isTrue(b.pageview)){var f={};if("undefined"!=typeof document){var g=document;f.c7=g.URL,f.c8=g.title,f.c9=g.referrer}Ga.setLabels(f)}b.renditions,La=a.isTrue(b.debug),b.labelmapping&&la(b.labelmapping),b.persistentlabels&&ma(b.persistentlabels),"1"===b.throttling||b.throttling===!0?Ga.setThrottlingEnabled(!0):Ga.setThrottlingEnabled(!1);var h;if((h=b.include)&&"string"==typeof h&&(h===xa?sa=xa:h.length>0&&(sa=h.split(","))),sa!==xa&&(h=b.include_prefixes)&&(h===xa?sa=xa:(sa||(sa=[]),Ia=sa.length,sa.push.apply(sa,h.split(",")))),"undefined"==typeof sa)ta=xa;else{var i;(i=b.exclude)&&"string"==typeof i&&(i===xa?ta=xa:i.length>0&&(ta=i.split(","))),ta!==xa&&(i=b.exclude_prefixes)&&(i===xa?ta=xa:(ta||(ta=[]),Ja=ta.length,ta.push.apply(ta,i.split(","))))}}function oa(a){var b,c,d,e,f={};if(ta===xa)return{};if(sa&&sa!==xa){for(b=0,c=sa.length;c>b;b++){var g=sa[b];e=Ia>=0&&b>=Ia;for(d in a)a.hasOwnProperty(d)&&(f[d]||(f[d]=!(e?0!==d.indexOf(g):d!=g)))}for(d in f)f.hasOwnProperty(d)&&f[d]===!1&&delete a[d];f={}}if(ta)for(b=0,c=ta.length;c>b;b++){var h=ta[b];e=Ja>=0&&b>=Ja;for(d in a)a.hasOwnProperty(d)&&(e?0===d.indexOf(h):d==h)&&(f[d]=!0);for(d in f)f.hasOwnProperty(d)&&a.hasOwnProperty(d)&&delete a[d];f={}}return a}function pa(b,c){var d=ta===xa;if(b.length>0&&"undefined"!=b[0].map){var e=b[0].map;d||a.extend(c,oa(a.cloneObject(e)));for(var f in e)if(e.hasOwnProperty(f)){var g,h,i,j=/^([Cc][A-Da-d]_)?ns_st_.+/,k=/^[Cc][A-Da-d]?([1-9]|1[0-9]|20)$/;(g=f.match(/^data-(.+)/))?(h=null!=g[1].match(j),i=null!=g[1].match(k),(h||i)&&(c[g[1]]=e[f])):(h=null!=f.match(j),i=null!=f.match(k),(h||i)&&(c[f]=e[f]))}}}function qa(b,c){var d=va.labelMapping;for(var e in d)if(d.hasOwnProperty(e))for(var f="",g=/^"([^"]+)"$/i,h=/"([^"]+?)"|[a-z0-9\._-]+\s*/gi,i=d[e].match(h),j=0;j<i.length;j++){var k=i[j].replace(/(?:^\s+|\s+$)/g,"");if(g.test(k)){var l=g.exec(k);f+=l[1]}else try{var m="",n=k.lastIndexOf(".");n>=1&&n<k.length-1&&(m=k.substring(0,n),k=k.substring(n+1,k.length));for(var o=0;o<b.length;o++){var p=b[o];if(m==p.prefix){p.map[k]&&(f+=a.toString(p.map[k]));break}}}catch(q){ra("Exception occurred while processing mapped labels")}c[e]=f}}function ra(){if(La){var a=new Date,b=a.getDate(),c=a.getMonth()+1,d=a.getHours(),e=a.getMinutes(),f=a.getSeconds(),g=a.getFullYear()+"-"+(10>c?"0"+c:c)+"-"+(10>b?"0"+b:b)+" "+(10>d?"0"+d:d)+":"+(10>e?"0"+e:e)+":"+(10>f?"0"+f:f)+"."+a.getMilliseconds(),h=["comScore",g],i=Array.prototype.slice.call(arguments);console&&console.log.apply(console,h.concat(i))}}f=f||{};var sa,ta,ua,va=this,wa="2.3.0",xa="_all_",ya=10,za=500,Aa=[[-1,1],[-.5,0,.5],[-.3,-.1,.1,.3],[-.2,-.1,0,.1,.2],[-.14286,-.08571,-.02857,.02857,.08571,.14286],[-.10714,-.07143,-.03571,0,.03571,.07143,.10714],[-.08333,-.05952,-.03571,-.0119,.0119,.03571,.05952,.08333],[-.06667,-.05,-.03333,-.01667,0,.01667,.03333,.05,.06667],[-.05455,-.04242,-.0303,-.01818,-.00606,.00606,.01818,.0303,.04242,.05455],[-.04545,-.03636,-.02727,-.01818,-.00909,0,.00909,.01818,.02727,.03636,.04545],[-.03846,-.03147,-.02448,-.01748,-.01049,-.0035,.0035,.01049,.01748,.02448,.03147,.03846],[-.03297,-.02747,-.02198,-.01648,-.01099,-.00549,0,.00549,.01099,.01648,.02198,.02747,.03297]],Ba=1.25,Ca=2,Da=300,Ea=1e3,Fa=6,Ga={},Ha=[],Ia=-1,Ja=-1,Ka={},La=!1,Ma=!1,Na=!1,Oa=!1,Pa=!1,Qa=!1,Ra=f.position&&f.position.call(va,null)||0,Sa=[],Ta=[],Ua=!1,Va=!1,Wa=!1,Xa={},Ya={},Za={},$a=!1,_a=!1;g(),a.isTrue(b.pageview)&&Ga.viewNotify(null,Ga.getLabels());var ab=!1};return b.extractParams=function(a,b,c){var d,e,f,g=b.length,h={},i=a.indexOf(b);if("undefined"==typeof c&&(c="&"),i>=0)for(f=a.substr(i+g).split(c),d=0,e=f.length;e>d;d++){var j=f[d].split("=");2===j.length&&(h[j[0]]=decodeURIComponent(j[1]))}return h},b}();return a.isBrowser()?(J=window,K=document):(J={},K={location:{href:""},title:"",URL:"",referrer:"",cookie:""}),a.extend(self,{prepareUrl:c,viewNotify:b}),I.Html5=function(b,c){function d(a,b,c){return C.log("OnPreMeasurement: "+a),C.setLabel("ns_st_br",O,!0),C.setLabel("ns_st_vo",k(),!0),C.setLabel("ns_st_ws",p()?"full":"norm",!0),!(b===G.PLAY&&!n())}function e(a){C.log("OnPostMeasurement: "+a)}function f(){C.log("init"),a.extend(C,{attachTo:g,detach:h}),g(b),C.setLabel("ns_ap_pn","js",!0),C.setLabel("ns_ap_pfm","html",!0)}function g(a){if(C.log("attachTo"),a){U&&h(),V=a;for(var b in T)T.hasOwnProperty(b)&&i(b,T[b],!1);M||(C.setSmartStateDetection(!0),C.setDetectEnd(!0),C.setDetectPause(!0),C.setDetectPlay(!0),C.setDetectSeek(!0)),U=!0}}function h(){C.log("detach");for(var a in T)T.hasOwnProperty(a)&&j(a,T[a],!1);M||(C.setSmartStateDetection(!1),C.setDetectEnd(!1),C.setDetectPause(!1),C.setDetectPlay(!1),C.setDetectSeek(!1)),V=null,U=!1}function i(a,b){C.log("bind: "+a),V.addEventListener(a,b,!1)}function j(a,b){C.log("unbind: "+a),V.removeEventListener(a,b,!1)}function k(){return V.muted?0:100*V.volume}function l(){return H?isNaN(V.duration)?0:Math.max(Math.floor(1e3*V.duration),0):0}function m(){return!V||isNaN(V.currentTime)?0:Math.max(Math.floor(1e3*V.currentTime),0)}function n(){return M?!(V.paused||V.ended||V.seeking):!(V.paused||V.ended||V.seeking||V.readyState<V.HAVE_FUTURE_DATA)}function o(){return V.ended}function p(){return document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen}function q(){C.log("loadStart"),H=!1,I=0,P||(P=!0),C.setClipLabel("ns_st_ty","video",!0),C.setClipLabel("ns_st_cs",[V.width,V.height].join("x"),!0),V.title&&(C.setClipLabel("ns_st_ep",V.title,!0),C.setClipLabel("ns_st_pr",V.title,!0)),C.setClipLabel("ns_st_cu",V.currentSrc,!0);for(var a={},b=0;b<V.attributes.length;++b){var c=V.attributes[b];a[c.name]=c.value}for(var d in V)V.hasOwnProperty(d)&&("webkitDisplayingFullscreen"===d||"webkitSupportsFullscreen"===d||"number"!=typeof V[d]&&"string"!=typeof V[d]&&"boolean"!=typeof V[d]||(a[d]=V[d]));var e=[{prefix:"",map:a}],f=C.getClip().getLabels();C.setClip(f,!1,e,!0)}function r(){P=!1}function s(){C.log("playing"),M&&n()&&(Q?C.play({ns_st_ui:"seek"}):C.play(),Q=!1)}function t(){C.log("waiting"),P||q(),y()}function u(){C.log("pause"),M&&(o()||(K?C.pause(J):C.pause()))}function v(){C.log("ended"),o()&&C.end()}function w(){C.log("timeUpdate");var a,b=m()-I;V.webkitVideoDecodedByteCount&&(I&&b&&(a=V.webkitVideoDecodedByteCount,O=Math.abs(Math.round(1e3*(a-N)/b))),N=V.webkitVideoDecodedByteCount),0===b&&y(),I=m(),I>0&&(J=I)}function x(){if(C.log("seeking"),R=!1,M){var a=K?J:I;C.pause(a)}}function y(){R=!0,setTimeout(z,S)}function z(){R&&C.bufferStart()}function A(){C.log("seeked"),Q=!0}function B(){H=!0,C.setClipLabel("ns_st_cl",l(),!0)}var C=this,D="html5",E="3.2.3",F=a.getBrowserName()+" "+a.getBrowserFullVersion(),G=ns_.StreamSense.PlayerEvents,H=!1,I=0,J=-1,K=navigator.userAgent.indexOf("iPhone")>-1||navigator.userAgent.indexOf("iPad")>-1||navigator.userAgent.indexOf("iPod")>-1,M="Internet Explorer Mobile"==a.getBrowserName()&&a.getBrowserFullVersion()<11,N=0,O=0,P=!1,Q=!1,R=!0,S=250,T={loadstart:q,emptied:r,playing:s,waiting:t,pause:u,ended:v,timeupdate:w,seeking:x,seeked:A,durationchange:B},U=!1,V=null;L.call(this,c,D,E,F||"undefined",{init:f,release:h,position:m,preMeasurement:d,postMeasurement:e})},I}()}();