!function(){var S=["h1","h2","h3","h4","h5","h6","p","span","strong","cite"];window.tentaclesProcessedABTitles=!1;var v,n,a,o,i,b=null,r=null,A=null,l=null,s=null,c=null,d={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,a,o,r,i,l="",s=0;for(e=d._utf8_encode(e);s<e.length;)a=(i=e.charCodeAt(s++))>>2,o=(3&i)<<4|(t=e.charCodeAt(s++))>>4,r=(15&t)<<2|(n=e.charCodeAt(s++))>>6,i=63&n,isNaN(t)?r=i=64:isNaN(n)&&(i=64),l=l+this._keyStr.charAt(a)+this._keyStr.charAt(o)+this._keyStr.charAt(r)+this._keyStr.charAt(i);return l},decode:function(e){var t,n,a,o,r,i="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)t=this._keyStr.indexOf(e.charAt(l++))<<2|(a=this._keyStr.indexOf(e.charAt(l++)))>>4,n=(15&a)<<4|(o=this._keyStr.indexOf(e.charAt(l++)))>>2,a=(3&o)<<6|(r=this._keyStr.indexOf(e.charAt(l++))),i+=String.fromCharCode(t),64!==o&&(i+=String.fromCharCode(n)),64!==r&&(i+=String.fromCharCode(a));return i=d._utf8_decode(i)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"n");for(var t="",n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?t+=String.fromCharCode(a):(127<a&&a<2048?t+=String.fromCharCode(a>>6|192):(t+=String.fromCharCode(a>>12|224),t+=String.fromCharCode(a>>6&63|128)),t+=String.fromCharCode(63&a|128))}return t},_utf8_decode:function(e){for(var t="",n=0,a=c1=c2=0;n<e.length;)(a=e.charCodeAt(n))<128?(t+=String.fromCharCode(a),n++):191<a&&a<224?(c2=e.charCodeAt(n+1),t+=String.fromCharCode((31&a)<<6|63&c2),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&a)<<12|(63&c2)<<6|63&c3),n+=3);return t}},k=(v=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={},i={compressToBase64:function(e){if(null==e)return"";e=i._compress(e,6,function(e){return n.charAt(e)});switch(e.length%4){default:case 0:return e;case 1:return e+"===";case 2:return e+"==";case 3:return e+"="}},decompressFromBase64:function(t){return null==t?"":""===t?null:i._decompress(t.length,32,function(e){return u(n,t.charAt(e))})},compressToUTF16:function(e){return null==e?"":i._compress(e,15,function(e){return v(e+32)})+" "},decompressFromUTF16:function(t){return null==t?"":""===t?null:i._decompress(t.length,16384,function(e){return t.charCodeAt(e)-32})},compressToUint8Array:function(e){for(var t=i.compress(e),n=new Uint8Array(2*t.length),a=0,o=t.length;a<o;a++){var r=t.charCodeAt(a);n[2*a]=r>>>8,n[2*a+1]=r%256}return n},decompressFromUint8Array:function(e){if(null==e)return i.decompress(e);for(var t=new Array(e.length/2),n=0,a=t.length;n<a;n++)t[n]=256*e[2*n]+e[2*n+1];var o=[];return t.forEach(function(e){o.push(v(e))}),i.decompress(o.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":i._compress(e,6,function(e){return a.charAt(e)})},decompressFromEncodedURIComponent:function(t){return null==t?"":""===t?null:(t=t.replace(/ /g,"+"),i._decompress(t.length,32,function(e){return u(a,t.charAt(e))}))},compress:function(e){return i._compress(e,16,function(e){return v(e)})},_compress:function(e,t,n){if(null==e)return"";for(var a,o,r,i,l={},s={},c="",d=2,u=3,g=2,f=[],h=0,m=0,p=0;p<e.length;p+=1)if(r=e.charAt(p),Object.prototype.hasOwnProperty.call(l,r)||(l[r]=u++,s[r]=!0),i=c+r,Object.prototype.hasOwnProperty.call(l,i))c=i;else{if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(a=0;a<g;a++)h<<=1,m===t-1?(m=0,f.push(n(h)),h=0):m++;for(o=c.charCodeAt(0),a=0;a<8;a++)h=h<<1|1&o,m===t-1?(m=0,f.push(n(h)),h=0):m++,o>>=1}else{for(o=1,a=0;a<g;a++)h=h<<1|o,m===t-1?(m=0,f.push(n(h)),h=0):m++,o=0;for(o=c.charCodeAt(0),a=0;a<16;a++)h=h<<1|1&o,m===t-1?(m=0,f.push(n(h)),h=0):m++,o>>=1}0===--d&&(d=Math.pow(2,g),g++),delete s[c]}else for(o=l[c],a=0;a<g;a++)h=h<<1|1&o,m===t-1?(m=0,f.push(n(h)),h=0):m++,o>>=1;0===--d&&(d=Math.pow(2,g),g++),l[i]=u++,c=String(r)}if(""!==c){if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(a=0;a<g;a++)h<<=1,m===t-1?(m=0,f.push(n(h)),h=0):m++;for(o=c.charCodeAt(0),a=0;a<8;a++)h=h<<1|1&o,m===t-1?(m=0,f.push(n(h)),h=0):m++,o>>=1}else{for(o=1,a=0;a<g;a++)h=h<<1|o,m===t-1?(m=0,f.push(n(h)),h=0):m++,o=0;for(o=c.charCodeAt(0),a=0;a<16;a++)h=h<<1|1&o,m===t-1?(m=0,f.push(n(h)),h=0):m++,o>>=1}0===--d&&(d=Math.pow(2,g),g++),delete s[c]}else for(o=l[c],a=0;a<g;a++)h=h<<1|1&o,m===t-1?(m=0,f.push(n(h)),h=0):m++,o>>=1;0===--d&&(d=Math.pow(2,g),g++)}for(o=2,a=0;a<g;a++)h=h<<1|1&o,m===t-1?(m=0,f.push(n(h)),h=0):m++,o>>=1;for(;;){if(h<<=1,m===t-1){f.push(n(h));break}m++}return f.join("")},decompress:function(t){return null==t?"":""===t?null:i._decompress(t.length,32768,function(e){return t.charCodeAt(e)})},_decompress:function(e,t,n){for(var a,o,r,i,l,s,c=[],d=4,u=4,g=3,f="",h=[],m={val:n(0),position:t,index:1},p=0;p<3;p+=1)c[p]=p;for(o=0,i=Math.pow(2,2),l=1;l!==i;)r=m.val&m.position,m.position>>=1,0===m.position&&(m.position=t,m.val=n(m.index++)),o|=(0<r?1:0)*l,l<<=1;switch(o){case 0:for(o=0,i=Math.pow(2,8),l=1;l!==i;)r=m.val&m.position,m.position>>=1,0===m.position&&(m.position=t,m.val=n(m.index++)),o|=(0<r?1:0)*l,l<<=1;s=v(o);break;case 1:for(o=0,i=Math.pow(2,16),l=1;l!==i;)r=m.val&m.position,m.position>>=1,0===m.position&&(m.position=t,m.val=n(m.index++)),o|=(0<r?1:0)*l,l<<=1;s=v(o);break;case 2:return""}for(a=c[3]=s,h.push(s);;){if(m.index>e)return"";for(o=0,i=Math.pow(2,g),l=1;l!==i;)r=m.val&m.position,m.position>>=1,0===m.position&&(m.position=t,m.val=n(m.index++)),o|=(0<r?1:0)*l,l<<=1;switch(s=o){case 0:for(o=0,i=Math.pow(2,8),l=1;l!==i;)r=m.val&m.position,m.position>>=1,0===m.position&&(m.position=t,m.val=n(m.index++)),o|=(0<r?1:0)*l,l<<=1;c[u++]=v(o),s=u-1,d--;break;case 1:for(o=0,i=Math.pow(2,16),l=1;l!==i;)r=m.val&m.position,m.position>>=1,0===m.position&&(m.position=t,m.val=n(m.index++)),o|=(0<r?1:0)*l,l<<=1;c[u++]=v(o),s=u-1,d--;break;case 2:return h.join("")}if(0===d&&(d=Math.pow(2,g),g++),c[s])f=c[s];else{if(s!==u)return null;f=a+a.charAt(0)}h.push(f),c[u++]=a+f.charAt(0),a=f,0===--d&&(d=Math.pow(2,g),g++)}}});function u(e,t){if(!o[e]){o[e]={};for(var n=0;n<e.length;n++)o[e][e.charAt(n)]=n}return o[e][t]}"function"==typeof define&&define.amd?define("LZString",function(){return k}):"undefined"!=typeof module&&null!=module&&(module.exports=k);var O=JSON.parse(localStorage.getItem("tentacles_urls"));function g(e,t,n){for(var a=0;a<e.length;a++)if(e[a][t]===n)return e[a];return null}function N(e){for(var t=function(e){var t,n,a,o=0,r=[];if(""===e.trim())return[];if(/[^0-9a-fA-F]/.test(e))return!1;for(n=(t=e.match(/.{1,2}/g)).length,a=0;a<n;++a)""!==t[a].trim()&&(r[o++]=parseInt(t[a],16));return r}(e),n="",a=0;a<t.length;a+=2)n+=String.fromCharCode(t[a]|t[a+1]<<8);return n}function P(e){for(var t=[],n=0;n<e.length;n++){var a=e.charCodeAt(n);t.push(255&a),t.push(a>>8&255)}return function(e){var t,n,a,o="";if(!function(e){return"object"==typeof e&&e instanceof Array}(e))return!1;for(n=e.length,t=0;t<n;++t)e[t]<0&&(e[t]=e[t]+256),e[t]===undefined&&(alert("Boom "+t),e[t]=0),1===(a=e[t].toString(16)).length&&(a="0"+a),o+=a;return o.trim()}(t)}var e,t,f,h=(f=document.referrer||document.location.href,e=(f=f.match(/^https?\:\/\/([^\/:?#]+)(?:[\/:?#]|$)/i))&&f[1],"string"!=typeof(t=e)||t.match("^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9]).)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9-]*[A-Za-z0-9])$"),e.split(".").reverse()[1]);function m(c){return new Promise(function(t,e){try{var n,a,o=localStorage.getItem("tentacles_domainregex"),r=localStorage.getItem("tentacles_domainvpath"),i=localStorage.getItem("tentacles_basePaths"),l=window.location.pathname;null!==i?function(e){e=(new TextEncoder).encode(e);return ae().subtle.digest("SHA-256",e).then(oe)}("feed"+l).then(function(e){ne=0<=i.indexOf(l)?null:e.substring(0,20),t(ne)}):(n=new RegExp(o,"g"),a=window.location.pathname,o=!1,c&&(a=c),r&&(o=new RegExp(r,"g").test(a)),(a=n.exec(a))&&2<=a.length&&(a.splice(0,1),a=a.filter(function(e){if(e)return e}).map(function(e){return e.toString()}),t(o?"v"+a[0]:a[0])),t())}catch(s){e(s)}})}function p(e,t){var n=new XMLHttpRequest;return"withCredentials"in n?n.open(e,t,!0):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest).open(e,t):n=null,n}function _(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.toLocaleLowerCase()).replace(/\+/g,"")).replace(/\*/g,"")).replace(/\-/g,"")).replace(/\=/g,"")).replace(/&&/g,"")).replace(/||/g,"")).replace(/>/g,"")).replace(/</g,"")).replace(/!/g,"")).replace(/\(/g,"")).replace(/\)/g,"")).replace(/{/g,"")).replace(/}/g,"")).replace(/\[/g,"")).replace(/]/g,"")).replace(/^/g,"")).replace(/"/g,"")).replace(/~/g,"")).replace(/\?/g,"")).replace(/:/g,"")).replace(/\\/g,"")).replace(/\//g,"")}function y(e){try{var t=d.encode(JSON.stringify(e)),n=t.length,a=0;if(n<16)return t;for(var o=0;o<n;o++)a+=t.charCodeAt(o);return _(d.encode(t.substring(0,8)+"-"+t.substring(n/2-4,n/2+4)+"-"+t.substr(n-8,n)+"-"+a))}catch(r){console.error(r)}}function I(e){try{var t=null;var n=function(e){e=e.replace(/\[(\d+)]/g,".$1");var t=window[e.substr(0,e.indexOf("."))];return e=e.substr(e.indexOf(".")+1),String(e).split(".").reduce(function(e,t){try{e=e[t]}catch(n){return null}return e},t)}(e);return n&&(t=n),t}catch(a){console.error(a)}}function w(){var i,n,e=localStorage.getItem("tentacles_data_layer_config");e&&2<e.length&&(i=function(e){var t,n={};if(null===e||!Array.isArray(e))return null;for(t in e){var a,o=e[t];for(a in o)if(o[a]&&o[a].mapping){var r=o[a].mapping;if(r)for(var i=0;i<r.length;i++){var l=r[i],s=l.inputField,c="["!==s.substr(0,1)?".":"",s="["!==s.substr(0,1)?s:a+c+s,l=l.outputField;l in n&&n[l]||(n[l]=I(s))}}}return n}(e=JSON.parse(e)),n=null,m().then(function(e){n=e;var a,o,t,r=localStorage.getItem("tentacles-brand-"+h);null!==i?(a=y(i),t=r,e=n,o=_(d.encode(t+"_"+e)),i.hash=a,i.brandId=r,i.documentId=o,l=setTimeout(function(){var t,n;t=function(){divolte.signal("dataLayer",i)},(n=p("get","https://api.smartocto.com/api/brands/"+r+"/dataLayer/"+o+"_"+a))&&(n.onreadystatechange=function(){var e;4===this.readyState&&(200===this.status&&(e=JSON.parse(n.responseText)).match&&!0===e.match||t())},n.send())},3e4)):console.log("Unable to send data layer, data cannot be collected.")}))}function x(){function o(e){return e.replace(/[^\w\s]/gi,"")}function e(e,t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])<0)return;return 1}var t=[],n=localStorage.getItem("tentacles-useDivInReplacement"),a=localStorage.getItem("tentacles_basePaths"),n=null!==n&&"true"===n;if(O&&0<O.length)for(var r=0;r<O.length;r++){var i,l=O[r];if(!(0<=t.indexOf(l.relationId))){t.push(l.relationId);var s=l.relationId;"video"===l.type&&(s=l.relationId.substring(1)),i=a&&0<a.length?document.querySelectorAll('a[tentacle-id^="'+s+'"]'):document.querySelectorAll('a[href*="'+s+'"]');for(var c=function(e){for(var t,n=/\b\w+\b/g,a=[];t=n.exec(e),t&&a.push(o(t[0])););return a}(l.oldTitle),d=[],u=0;u<i.length;u++){var g,f,h,m,p,v=i[u];if("1"!==v.getAttribute("data-tentacles-r")&&!function(e,t){return e&&Array.isArray(e)&&0<e.length&&t&&Array.isArray(t)&&0<t.length&&0<e.filter(function(e){return-1<t.indexOf(e)}).length}(q,v.className.split(" "))){if("a"===v.tagName.toLowerCase()&&1===v.childNodes.length&&"#text"===v.childNodes[0].nodeName&&e(c,o(v.innerText))&&v.innerText.length<=l.oldTitle.length+4)d.push([v.children.length,v]);else for(n&&-1===S.indexOf("div")&&S.push("div"),h=0;h<S.length;h++)for(g=S[h],f=v.querySelectorAll(g),m=0;m<f.length;m++)(p=f[m])&&e(c,o(p.innerText))&&p.innerText.length<=l.oldTitle.length+4&&d.push([p.children.length,p]);d.length&&(d.sort(function(e,t){return t[0]-e[0]}),(p=d.pop()[1]).innerText=l.newTitle),v.setAttribute("data-tentacles-r","1")}}}}window.tentaclesProcessedABTitles=!0}function T(e,t){e.url||console.error("oops no scriptURL defined to load");var n=document.createElement("script");n.type="text/javascript",n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t&&t())}:t&&(n.onload=function(){t()}),e.defer&&(n.defer=!0),e.async&&(n.async="async"),n.src=e.url;var a=document.getElementsByTagName("body")[0];"body-top"===e.location&&a?a.insertBefore(n,a.firstChild):a?a.appendChild(n):addEventListener("DOMContentLoaded",function(){document.getElementsByTagName("body")[0].appendChild(n)})}function E(e){return function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(0<t)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(0<e.indexOf("Trident/")){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}return 0<(n=e.indexOf("Edge/"))&&parseInt(e.substring(n+5,e.indexOf(".",n)),10)}()?("object"!=typeof window.wgxpath&&T({url:WGXPATH_URL,defer:!0,async:!1},function(){wgxpath.install()}),window.document.createExpression(e).evaluate(window.document,XPathResult.STRING_TYPE)):(new XPathEvaluator).createExpression(e).evaluate(document,XPathResult.FIRST_ORDERED_NODE_TYPE).singleNodeValue}Math.round10||(Math.round10=function(e,t){return n="round",e=e,void 0===(t=t)||0==+t?Math[n](e):(e=+e,t=+t,isNaN(e)||"number"!=typeof t||t%1!=0?NaN:(e=e.toString().split("e"),+((e=(e=Math[n](+(e[0]+"e"+(e[1]?+e[1]-t:-t)))).toString().split("e"))[0]+"e"+(e[1]?+e[1]+t:t))));var n});var C=3e4,D="active",R="completed",J="https://api.smartocto.com/api/brands/tentacles",M=1,L="t"===localStorage.getItem("tentaclesEnabled");localStorage.removeItem("tentacles_user_id");var B,U,X,j=!0,F="",Z="",z="",Y="",q=[],H=!1,V=!1,G="",W="",$="",K=null,Q=!1,ee=null,te=!1,ne=null;function ae(){return window.crypto||window.msCrypto}function oe(e){for(var t="",n=new DataView(e),a=0;a<n.byteLength;a+=4){var o="00000000";t+=(o+n.getUint32(a).toString(16)).slice(-o.length)}return t}function re(){var e=Date.now(),o=function(){5e3<Date.now()-e||m().then(function(e){ne=e;var t,n,a=localStorage.getItem("tentacles-brand-"+h),e=localStorage.getItem("tentacles_reading_time");window.divolte&&a&&ne&&e?ne&&e&&(t={brandId:a,relationId:ne},n=divolte,"function"==typeof trackReadingTime?(_smoc=_smoc&&{},trackReadingTime(t,n)):T({url:"https://tentacles.smartocto.com/ten/reading-time.js",defer:!0,async:!0},function(){trackReadingTime(t,n)})):r=setTimeout(o,500)})};function t(e){var t,n=localStorage.getItem("tentacles_urls_time");null!==n&&new Date<new Date(n)&&(F=JSON.parse(localStorage.getItem("tentacles_urls")),j=!1),j?((n=window.tentacles&&window.tentacles.apiToken)||console.log('TENTACLES: No API key given. Please add a valid apiToken above this script call: window.tentacles = { apiToken: "09876543edfghy7"};'),(t=p("get",J+"?i="+n))&&(t.onreadystatechange=function(){4===this.readyState&&200===this.status&&(Z=JSON.parse(t.responseText),F=Z.headerTests,z=Z.domainSettings.regex,Y=Z.domainSettings.vPath,G=Z.domainSettings.searchPath,W=Z.domainSettings.mapping,$=Z.domainSettings.brand,V=Z.domainSettings.xPathIds,q=Z.domainSettings.excludeClasses,H=Z.domainSettings.useDivInReplacement,K=Z.domainSettings.dataLayerConfig,Q=Z.domainSettings.collectReadingtime,B=Z.domainSettings.basePaths,U=Z.domainSettings.ignorePaths,ee=Z.domainSettings.customCss,te=!0,(null===localStorage.getItem("tentacles_urls")?function(){for(var e=!(O=[]),t=0,n=F.length;t<n;t++)if(0!==F[t].testData.length){e=!1;var a,o={};if(F[t].status===D)o.chosen=F[t].chosen,e=!0;else if(F[t].status===R)for(var r=0,i=F[t].testData.length;r<i;r++)if(F[t].testData[r].won){e=!0,o.chosen=F[t].testData[r].id;break}o.id=F[t].id,o.relationId=F[t].relationId,o.status=F[t].status,o.oldTitle=F[t].title,o.type=F[t].hasOwnProperty("type")?F[t].type:"story",!1===e?o.newTitle=o.oldTitle:(a=g(F[t].testData,"id",o.chosen),o.newTitle=a.title),0===o.chosen&&e||O.push(o)}localStorage.setItem("tentacles_domainsearchpath",G),localStorage.setItem("tentacles_linkClick","{}"),localStorage.setItem("tentacles_urls",JSON.stringify(O)),localStorage.setItem("tentacles_domainregex",z),localStorage.setItem("tentacles-brand-"+h,$),localStorage.setItem("tentacles_customCss",ee),q?localStorage.setItem("tentacles_excludeclasses",JSON.stringify(q)):localStorage.removeItem("tentacles_excludeclasses"),Y?localStorage.setItem("tentacles_domainvpath",Y):localStorage.removeItem("tentacles_domainvpath"),W?localStorage.setItem("tentacles_pagemapping",JSON.stringify(W)):localStorage.removeItem("tentacles_pagemapping"),V?localStorage.setItem("tentacles_xPathIds",V):localStorage.removeItem("tentacles_xPathIds"),H?localStorage.setItem("tentacles_useDivInReplacement",JSON.stringify(H)):localStorage.removeItem("tentacles_useDivInReplacement"),K?localStorage.setItem("tentacles_data_layer_config",JSON.stringify(K)):localStorage.removeItem("tentacles_data_layer_config"),Q?localStorage.setItem("tentacles_reading_time",JSON.stringify(Q)):localStorage.removeItem("tentacles_reading_time"),B?localStorage.setItem("tentacles_basePaths",JSON.stringify(B)):localStorage.removeItem("tentacles_basePaths"),U?localStorage.setItem("tentacles_ignorePaths",JSON.stringify(U)):localStorage.removeItem("tentacles_ignorePaths"),te?localStorage.setItem("tentacles_doNotTrackUserId",te):localStorage.removeItem("tentacles_doNotTrackUserId")}:function(){var e=JSON.parse(localStorage.getItem("tentacles_urls")),t=!1;if(0===F.length)localStorage.removeItem("tentacles_urls");else{for(var n,a=F.map(function(e){return e.id}),o=0;o<F.length;o++)if(0!==F[o].testData.length){t=!1;for(var r=0;r<e.length;r++)if(e[r].id===F[o].id){for(var i=0,l=F[o].testData.length;i<l;i++)if(F[o].testData[i].won){e[r].chosen=F[o].testData[i].id;break}e[r].status=F[o].status,(s=g(F[o].testData,"id",F[o].chosen))&&(e[r].newTitle=s.title,e[r].type=F[o].type,e[r].chosen=F[o].chosen),t=!0;break}if(!1===t){var s,c={};if(F[o].status===D)c.chosen=F[o].chosen,t=!0;else if(F[o].status===R)for(var r=0,d=F[o].testData.length;r<d;r++)if(F[o].testData[r].won){t=!0,c.chosen=F[o].testData[r].id;break}c.id=F[o].id,c.relationId=F[o].relationId,c.status=F[o].status,c.oldTitle=F[o].title,c.type=F[o].hasOwnProperty("type")?F[o].type:"story",!1===t?c.newTitle=c.oldTitle:(s=g(F[o].testData,"id",c.chosen),c.newTitle=s.title),0===c.chosen&&t||e.push(c)}}0<F.length&&(n=e.filter(function(e){if(-1!==a.indexOf(e.id))return!0})),localStorage.setItem("tentacles_urls",JSON.stringify(n)),O=n}localStorage.setItem("tentacles_domainsearchpath",G),localStorage.setItem("tentacles_linkClick","{}"),localStorage.setItem("tentacles_domainregex",z),localStorage.setItem("tentacles-brand-"+h,$),q?localStorage.setItem("tentacles_excludeclasses",JSON.stringify(q)):localStorage.removeItem("tentacles_excludeclasses"),Y?localStorage.setItem("tentacles_domainvpath",Y):localStorage.removeItem("tentacles_domainvpath"),W?localStorage.setItem("tentacles_pagemapping",JSON.stringify(W)):localStorage.removeItem("tentacles_pagemapping"),V?localStorage.setItem("tentacles_xPathIds",V):localStorage.removeItem("tentacles_xPathIds"),H?localStorage.setItem("tentacles_useDivInReplacement",JSON.stringify(H)):localStorage.removeItem("tentacles_useDivInReplacement"),K?localStorage.setItem("tentacles_data_layer_config",JSON.stringify(K)):localStorage.removeItem("tentacles_data_layer_config"),Q?localStorage.setItem("tentacles_reading_time",JSON.stringify(Q)):localStorage.removeItem("tentacles_reading_time"),B?localStorage.setItem("tentacles_basePaths",JSON.stringify(B)):localStorage.removeItem("tentacles_basePaths"),U?localStorage.setItem("tentacles_ignorePaths",JSON.stringify(U)):localStorage.removeItem("tentacles_ignorePaths"),ee?localStorage.setItem("tentacles_customCss",ee):localStorage.removeItem("tentacles_customCss"),te?localStorage.setItem("tentacles_doNotTrackUserId",te):localStorage.removeItem("tentacles_doNotTrackUserId")})(),localStorage.setItem("tentacles_urls_time",""+new Date((new Date).getTime()+C)),"function"==typeof e&&e())},t.send())):"function"==typeof e&&(s=setTimeout(function(){e()},M))}function n(){var S,_,y={},I=localStorage.getItem("tentacles_pagemapping"),w=localStorage.getItem("tentacles_domainsearchpath"),x="true"===localStorage.getItem("tentacles_xPathIds"),T=localStorage.getItem("tentacles_domainregex");function C(e,t,n){var a,o=e.attributes.href.nodeValue,r=e.getAttribute("tentacle-id"),i=function(e,t){if(O)for(var n=0;n<O.length;n++){var a=!1;Y&&(a=new RegExp(Y,"g").test(e));var o=O[n].relationId;if(a&&(o=O[n].relationId.substring(1)),0<=e.indexOf(o)||t===O[n].relationId)return{relationId:O[n].relationId,id:O[n].id,chosenId:O[n].chosen,status:O[n].status,type:O[n].type}}}(o,r?r.split("-")[0]:undefined),l=i&&i.status===D?(a=i.id,i.chosenId):a=-1,i=location.pathname+"_"+function p(e,t){if(""!==e.id&&t)return"id('"+e.id+"')";if(e===document.body)return e.tagName.toLowerCase();for(var n=0,a=e.parentNode.childNodes,o=0;o<a.length;o++){var r=a[o];if(r===e)return p(e.parentNode,t)+"/"+e.tagName.toLowerCase()+"["+(n+1)+"]";1===r.nodeType&&r.tagName===e.tagName&&n++}}(e,x),s={linkPath:o,linkPosition:i,linkXPath:i,linkSourcePath:location.pathname,headerTestId:a,headerTestChosenId:l},c={top:0,left:0};if(w){var d,u=w.split("|");if(2===u.length)try{c=("class"===u[0]?document.getElementsByClassName(u[1])[0]:document.getElementById(u[1])).getBoundingClientRect()}catch(v){console.error(v)}try{var g=e.getBoundingClientRect(),f=g.top-c.top,h=g.left-c.left;n&&(h=g.left-n.left);var m={linkX1:Math.round10(h,1),linkX2:Math.round10(h+g.width,1),linkY1:Math.round10(f,1),linkY2:Math.round10(f+g.height,1),linkHeight:Math.round10(g.height,1),linkWidth:Math.round10(g.width,1)};t===undefined?m.linkPosition=location.pathname+"_"+m.linkX1+"_"+m.linkY1+"_"+m.linkX2+"_"+m.linkY2:m.linkPosition=location.pathname+"_"+m.linkX1+"_"+m.linkY1+"_"+m.linkX2+"_"+m.linkY2+"_"+t}catch(S){console.error(S)}for(d in m)s[d]=m[d]}else console.error("NO domain_searchpath!");l=k.compressToUTF16(JSON.stringify(s));y[r]=P(l),window.tentacles_pageData=y,localStorage.removeItem("tentacle_pagedata"),localStorage.removeItem("tentacles_pagedata"),e.addEventListener("click",function(e){var t=window.tentacles_pageData;localStorage.setItem("tentacles_linkClick",t[r])})}$=localStorage.getItem("tentacles-brand-"+h),null!==w&&!1!==window.tentaclesProcessedABTitles?m().then(function(e){if(ne=e,1<window.location.pathname.length){var t=localStorage.getItem("tentacles_linkClick");if(ne&&t)try{var n=N(t),n=k.decompressFromUTF16(n),a=JSON.parse(n);a.relationId=ne,localStorage.removeItem("tentacles_linkClick"),setTimeout(function h(){"undefined"!=typeof divolte?a&&divolte.signal("linkClick",a):setTimeout(h,250)},1e3),b=setTimeout(function(){divolte.signal("loyaltyClick",a)},15e3)}catch(m){localStorage.setItem("tentacles_linkClick","")}}if(!ne)if(T){var o=RegExp(T);if(I){if(_=JSON.parse(I))for(var r in S=_["*"],_[window.location.pathname]&&(S=_[window.location.pathname]),S)if(S.hasOwnProperty(r)){var i=E(S[r]);if(i)for(var l=i.getElementsByTagName("a"),s=(s=Array.from(l)).filter(function(e){return e.href&&o.test(e.href)}),c=i.getBoundingClientRect(),d=0;d<s.length;d++)C(s[d],r,c)}}else for(var l=document.body.getElementsByTagName("a"),u=(u=Array.from(l)).filter(function(e){return e.href&&o.test(e.href)}),g=0;g<u.length;g++)C(u[g]);console.log("*")}else console.log("Could not initiate domain_regex");if(!ne)try{var f=O.filter(function(e){return"active"===e.status}).map(function(e){return{headerTestId:e.id,headerTestChosenId:e.chosen}});A=setTimeout(function p(){var e;"undefined"!=typeof divolte?0<f.length&&(e={brandId:$,impressions:JSON.stringify(f)},divolte.signal("impressions",e)):A=setTimeout(p,250)},1e3)}catch(v){}}):c=setTimeout(n,10)}o(),function(){for(var e=document.body.getElementsByTagName("a"),t=0,n=0;n<e.length;n++)(function(e,t,n){return e=(new TextEncoder).encode(e),ae().subtle.digest("SHA-256",e).then(function(e){return{guid:oe(e),link:t,counter:n}})})("feed"+e[n].getAttribute("href"),e[n],t).then(function(e){e.link.setAttribute("tentacle-id",e.guid.substring(0,20)+"-"+e.counter.toString(16))}),t++}(),m().then(function(e){(ne=e)?(window.tentaclesProcessedABTitles=!0,(K=K||localStorage.getItem("tentacles_data_layer_config"))&&w()):t(x)}),T({url:"https://tentacles.smartocto.com/ten/sotm.js",defer:!0,async:!0},function(){"undefined"==typeof window.divolte&&window.module&&window.module.exports&&(window.divolte=window.module.exports),console.log("SmartOcto's Tentacles loaded...")}),document.body?n():window.addEventListener("DOMContentLoaded",function(){n()})}window.tentaclesExecuted?console.log("%cTentacles: Skipping execution!","background: #EE191E; color: white; padding: 2px 4px; border-radius: 4px 0px 0px 4px;"):(X=!1,(U=localStorage.getItem("tentacles_ignorePaths"))&&0<=JSON.parse(U).indexOf(window.location.pathname)&&(X=!0),X?console.log("%cTentacles: Skipping execution on "+window.location.pathname+"!","background: #EE191E; color: white; padding: 2px 4px; border-radius: 4px 0px 0px 4px;"):L?function(){try{return window.self!==window.top}catch(e){return 1}}()||T({location:"body-top",url:"https://tentacles.smartocto.com/ten/tentacles.js?"}):re()),window.addEventListener("message",function(e){if("activateTentacles"!==e.data&&"stopTentacles"!==e.data)return;clearTimeout(b),clearTimeout(r),clearTimeout(A),clearTimeout(l),clearTimeout(s),clearTimeout(c),localStorage.getItem("tentacles_reading_time")&&(clearInterval(window.tentacles_at_timer_sample),clearInterval(window.tentacles_at_timer_send_beat)),"activateTentacles"==e.data&&(re(),divolte&&divolte.signal("pageView"))},!1),window.tentaclesExecuted=!0}("undefined"==typeof t&&(t={}));