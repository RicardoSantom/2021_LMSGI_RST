/*
 * Video.js Hotkeys
 * https://github.com/ctd1500/videojs-hotkeys
 * v0.2.10
 *
 * Copyright (c) 2015 Chris Dougherty
 * Licensed under the Apache-2.0 license.
 */

!function(e,r){"function"==typeof define&&define.amd?define([],r.bind(this,e,e.videojs)):"undefined"!=typeof module&&module.exports?module.exports=r(e,e.videojs):r(e,e.videojs)}(this,function(e,r){"use strict";e.videojs_hotkeys={version:"0.2.10"};var t=function(e){function t(e){return 32===e.which}function n(e){return 37===e.which}function u(e){return 39===e.which}function o(e){return 38===e.which}function l(e){return 40===e.which}function c(e){return 77===e.which}function i(e){return 70===e.which}var s=this,a=s.el(),y={volumeStep:.1,seekStep:5,enableMute:!0,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1,alwaysCaptureHotkeys:!1,playPauseKey:t,rewindKey:n,forwardKey:u,volumeUpKey:o,volumeDownKey:l,muteKey:c,fullscreenKey:i,customKeys:{}},m=r.mergeOptions||r.util.mergeOptions;e=m(y,e||{});var f=e.volumeStep,d=e.seekStep,v=e.enableMute,h=e.enableFullscreen,b=e.enableNumbers,p=e.enableJogStyle,k=e.alwaysCaptureHotkeys;a.hasAttribute("tabIndex")||a.setAttribute("tabIndex","-1"),k&&s.one("play",function(){a.focus()}),s.on("play",function(){var e=a.querySelector(".iframeblocker");e&&""===e.style.display&&(e.style.display="block",e.style.bottom="39px")});var w=function(r){var t,n=r.which,u=r.preventDefault;if(s.controls()){var o=document.activeElement;if(k||o==a||o==a.querySelector(".vjs-tech")||o==a.querySelector(".vjs-control-bar")||o==a.querySelector(".iframeblocker"))switch(S(r,s)){case 1:u(),k&&r.stopPropagation(),s.paused()?s.play():s.pause();break;case 2:u(),t=s.currentTime()-d,s.currentTime()<=d&&(t=0),s.currentTime(t);break;case 3:u(),s.currentTime(s.currentTime()+d);break;case 5:u(),p?(t=s.currentTime()-1,s.currentTime()<=1&&(t=0),s.currentTime(t)):s.volume(s.volume()-f);break;case 4:u(),p?s.currentTime(s.currentTime()+1):s.volume(s.volume()+f);break;case 6:v&&s.muted(!s.muted());break;case 7:h&&!s.isAudio()?s.isFullscreen()?s.exitFullscreen():s.requestFullscreen():s.el().querySelector(".ico.fullsc").dispatchEvent(new Event("fullscreenchange"));break;default:if((n>47&&n<59||n>95&&n<106)&&b){var l=48;n>95&&(l=96);var c=n-l;u(),s.currentTime(s.duration()*c*.1)}for(var i in e.customKeys){var y=e.customKeys[i];y&&y.key&&y.handler&&y.key(r)&&(u(),y.handler(s,e))}}}},K=function(e){if(s.controls()){var r=e.relatedTarget||e.toElement||document.activeElement;r!=a&&r!=a.querySelector(".vjs-tech")&&r!=a.querySelector(".iframeblocker")||h&&(s.isFullscreen()?s.exitFullscreen():s.requestFullscreen())}},S=function(r,t){return e.playPauseKey(r,t)?1:e.rewindKey(r,t)?2:e.forwardKey(r,t)?3:e.volumeUpKey(r,t)?4:e.volumeDownKey(r,t)?5:e.muteKey(r,t)?6:e.fullscreenKey(r,t)?7:void 0};return s.on("keydown",w),s.on("dblclick",K),this};r.plugin("hotkeys",t)});